(function(t){function e(e){for(var a,o,n=e[0],c=e[1],l=e[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"0461":function(t,e,s){},"0600":function(t,e,s){},"077f":function(t,e,s){},"0dc4":function(t,e,s){"use strict";var a=s("d220"),i=s.n(a);i.a},2178:function(t,e,s){},"2e4e":function(t,e,s){"use strict";var a=s("7bd7"),i=s.n(a);i.a},3235:function(t,e,s){"use strict";var a=s("2178"),i=s.n(a);i.a},"45b9":function(t,e,s){},"47a6":function(t,e,s){"use strict";var a=s("c783"),i=s.n(a);i.a},5005:function(t,e,s){"use strict";var a=s("dcf7"),i=s.n(a);i.a},"50ae":function(t,e,s){"use strict";var a=s("45b9"),i=s.n(a);i.a},"53da":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navbar",{key:t.$route.fullPath}),s("router-view")],1)},r=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-light"},[s("div",{staticClass:"container"},[s("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0 logo"},[t._v("Smart Grocery")]),t.messengerAuth?t._e():s("ul",{staticClass:"nav right"},[t.isLoggedIn?s("li",[s("router-link",{attrs:{to:"/"}},[t._v("Home")])],1):t._e(),t.isLoggedIn?s("li",[s("router-link",{attrs:{to:"/grocery-dashboard"}},[t._v("Dashboard")])],1):t._e(),t.isLoggedIn?s("li",[s("button",{staticClass:"btn btn-outline-primary",on:{click:t.logout}},[t._v("Log Out")])]):t._e()])])])},n=[],c=s("59ca");s("ed18").config();var l={apiKey:"".concat("AIzaSyBB80ELU4oR_fYwdrvBDDRrhkbyuOVu_Ns"),authDomain:"".concat("smartgrocery-88590.firebaseapp.com"),databaseURL:"".concat("https://smartgrocery-88590.firebaseio.com"),projectId:"".concat("smartgrocery-88590"),storageBucket:"".concat("smartgrocery-88590.appspot.com"),messagingSenderId:"".concat("470019347392"),appId:"".concat("1:470019347392:web:cbf759c897c4c3d099ae25"),measurementId:"".concat("G-2QKWXGGSYZ")},d=(s("000b"),s("ea7b"),s("e71f"),c["initializeApp"](l)),u=d,m=s("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"homepage"}},[a("section",{staticClass:"features"},[a("div",{staticClass:"container"},[a("div",[a("h1",[t._v("Smart Grocery")]),a("ul",{staticClass:"list-group"},[t.messengerAuth?a("li",{staticClass:"list-item"},[t._v("Sign In with Facebook below to link Facebook Messenger with your SmartGrocery Account.")]):t._e(),t.messengerAuth?t._e():a("li",{staticClass:"list-item"},[t._v("The Chatbot to save you time and make grocery shopping much easier.")])]),a("div",{staticClass:"row"},[t.messengerAuth?t._e():a("a",{staticClass:"btn-site-primary text-center mr-3",attrs:{href:"#features"}},[t._v("View All Features")]),!t.isLoggedIn||t.messengerAuth?a("SignIn"):t._e()],1)]),a("img",{attrs:{src:s("8135"),alt:""}})])]),t.messengerAuth?t._e():a("section",{staticClass:"text-overlay"},[t._m(0)]),t.messengerAuth?t._e():a("section",{staticClass:"feature-section",attrs:{id:"features"}},[a("h2",{staticClass:"font-weight-bold text-center my-5"},[t._v("ChatBot Features")]),t._m(1),t._m(2)])])},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"overlay"},[s("div",{staticClass:"text-overlay-inner"},[s("h3",[t._v("How It Works")]),s("div",{staticClass:"row pt-5 m-2"},[s("div",{staticClass:"col-lg-4 mb-5 mb-lg-0 card rounded-left bg-light pt-3 border-0",staticStyle:{"border-radius":"0","background-color":"#181d20c2!important"}},[s("i",{staticClass:"fas fa-clipboard-list fa-3x mb-3"}),s("h5",[t._v("Create A Grocery List")]),s("p",{staticClass:"px-lg-3 mb-0"},[t._v("Create as many shopping lists as needed. Use the inbuilt grocery search for convenience")])]),s("div",{staticClass:"col-lg-4 col-md-12 mb-5 mb-lg-0 card bg-light pt-3 border-0",staticStyle:{"border-radius":"0","background-color":"#181d20c2!important"}},[s("i",{staticClass:"fas fa-store-alt fa-3x mb-3"}),s("h5",[t._v("Link Your Local Supermarket Account")]),s("p",{staticClass:"px-lg-3 mb-0"},[t._v("Link your account with your local supermarket to enable delivery and collection services")])]),s("div",{staticClass:"col-lg-4 col-md-12 card rounded-right bg-light pt-3 border-0",staticStyle:{"border-radius":"0","background-color":"#181d20c2!important"}},[s("i",{staticClass:"fas fa-comments fa-3x mb-3"}),s("h5",[t._v("Message The Bot")]),s("p",{staticClass:"px-lg-3 mb-0"},[t._v("Interact with the bot through Facebook Messenger")]),s("a",{staticClass:"stretched-link",attrs:{href:"#features"}},[t._v("View features")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"lead grey-text text-center w-responsive mx-auto mb-5"},[t._v(" The goal of the ChatBot is to help a user save time time when it comes to grocery shopping. "),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-5 text-center text-lg-left"},[s("img",{staticClass:"img-fluid",attrs:{src:"https://i.ya-webdesign.com/images/facebook-messenger-png-1.png"}})]),s("div",{staticClass:"col-lg-7"},[s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-1"},[s("i",{staticClass:"fas fa-share fa-lg"})]),s("div",{staticClass:"col-xl-10 col-md-11 col-10"},[s("h5",{staticClass:"font-weight-bold mb-3"},[t._v("Delivery")]),s("p",[t._v("Send a Message asking to schedule a grocery delivery with the name of the list you want, the time and date that suits you.")]),s("div",{staticClass:"featureAccordian",attrs:{id:"accordion"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header",attrs:{id:"deliveryAccordian"}},[s("h2",{staticClass:"mb-0"},[s("button",{staticClass:"d-flex align-items-center justify-content-between btn btn-link collapsed fullBtn listName",attrs:{"data-toggle":"collapse","data-target":"#deliveryCollapse","aria-expanded":"false","aria-controls":"deliveryCollapse"}},[t._v(" Examples "),s("span",{staticClass:"fa-stack fa-sm"},[s("i",{staticClass:"fas fa-circle fa-stack-2x"}),s("i",{staticClass:"fas fa-plus fa-stack-1x fa-inverse"})])])])]),s("div",{staticClass:"collapse",attrs:{id:"deliveryCollapse","aria-labelledby":"deliveryAccordian","data-parent":"#accordion"}},[s("div",{staticClass:"card-body"},[s("ul",[s("li",[s("div",{staticClass:"yours messages"},[s("div",{staticClass:"message last"},[t._v("Can I schedule a delivery?")]),s("div",{staticClass:"message last"},[t._v("Can I schedule a delivery tomorrow?")]),s("div",{staticClass:"message last"},[t._v("I want to schedule a delivery")])])])])])])])])])]),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-1"},[s("i",{staticClass:"fas fa-share fa-lg"})]),s("div",{staticClass:"col-xl-10 col-md-11 col-10"},[s("h5",{staticClass:"font-weight-bold mb-3"},[t._v("Collection / PickUp")]),s("p",[t._v("Send a Message asking to schedule a grocery Pickup from your local store with the name of the list you want, the time and date that suits you.")]),s("div",{staticClass:"featureAccordian",attrs:{id:"accordion"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header",attrs:{id:"collectionAccordian"}},[s("h2",{staticClass:"mb-0"},[s("button",{staticClass:"d-flex align-items-center justify-content-between btn btn-link collapsed fullBtn listName",attrs:{"data-toggle":"collapse","data-target":"#collectionCollapse","aria-expanded":"false","aria-controls":"collectionCollapse"}},[t._v(" Examples "),s("span",{staticClass:"fa-stack fa-sm"},[s("i",{staticClass:"fas fa-circle fa-stack-2x"}),s("i",{staticClass:"fas fa-plus fa-stack-1x fa-inverse"})])])])]),s("div",{staticClass:"collapse",attrs:{id:"collectionCollapse","aria-labelledby":"collectionCollapse","data-parent":"#accordion"}},[s("div",{staticClass:"card-body"},[s("ul",[s("li",[s("div",{staticClass:"yours messages"},[s("div",{staticClass:"message last"},[t._v("Can I schedule a pick up?")]),s("div",{staticClass:"message last"},[t._v("Could I schedule a collection for tomorrow at 6pm?")]),s("div",{staticClass:"message last"},[t._v("I want to schedule a pickup")])])])])])])])])])]),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-1"},[s("i",{staticClass:"fas fa-share fa-lg"})]),s("div",{staticClass:"col-xl-10 col-md-11 col-10"},[s("h5",{staticClass:"font-weight-bold mb-3"},[t._v("Recipes")]),s("p",[t._v("Send a message asking for recipe suggestions with specified ingredients or ingredients in one of your shopping lists.")]),s("div",{staticClass:"featureAccordian",attrs:{id:"accordion"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header",attrs:{id:"recipeAccordian"}},[s("h2",{staticClass:"mb-0"},[s("button",{staticClass:"d-flex align-items-center justify-content-between btn btn-link collapsed fullBtn listName",attrs:{"data-toggle":"collapse","data-target":"#recipeCollapse","aria-expanded":"false","aria-controls":"recipeCollapse"}},[t._v(" Examples "),s("span",{staticClass:"fa-stack fa-sm"},[s("i",{staticClass:"fas fa-circle fa-stack-2x"}),s("i",{staticClass:"fas fa-plus fa-stack-1x fa-inverse"})])])])]),s("div",{staticClass:"collapse",attrs:{id:"recipeCollapse","aria-labelledby":"recipeAccordian","data-parent":"#accordion"}},[s("div",{staticClass:"card-body"},[s("ul",[s("li",[s("div",{staticClass:"yours messages"},[s("div",{staticClass:"message last"},[t._v("Find me a recipe from my Weekly Shop")]),s("div",{staticClass:"message last"},[t._v("I want a recipe for breakfast with eggs and bacon")]),s("div",{staticClass:"message last"},[t._v("I want a recipe for lunch with chicken and pasta")])])])])])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-1"},[s("i",{staticClass:"fas fa-share fa-lg"})]),s("div",{staticClass:"col-xl-10 col-md-11 col-10"},[s("h5",{staticClass:"font-weight-bold mb-3"},[t._v("Grocery Lists")]),s("p",[t._v("Send a message asking to view all grocery lists, specific lists or all items by purchase frequency.")]),s("div",{staticClass:"featureAccordian",attrs:{id:"accordion"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header",attrs:{id:"shoppingAccordian"}},[s("h2",{staticClass:"mb-0"},[s("button",{staticClass:"d-flex align-items-center justify-content-between btn btn-link collapsed fullBtn listName",attrs:{"data-toggle":"collapse","data-target":"#shoppingCollapse","aria-expanded":"false","aria-controls":"shoppingCollapse"}},[t._v(" Examples "),s("span",{staticClass:"fa-stack fa-sm"},[s("i",{staticClass:"fas fa-circle fa-stack-2x"}),s("i",{staticClass:"fas fa-plus fa-stack-1x fa-inverse"})])])])]),s("div",{staticClass:"collapse",attrs:{id:"shoppingCollapse","aria-labelledby":"shoppingAccordian","data-parent":"#accordion"}},[s("div",{staticClass:"card-body"},[s("ul",[s("li",[s("div",{staticClass:"yours messages"},[s("div",{staticClass:"message last"},[t._v("Can I see my shopping lists?")]),s("div",{staticClass:"message last"},[t._v("Can I see my Weekly Shop?")]),s("div",{staticClass:"message last"},[t._v("What do I buy once per week?")]),s("div",{staticClass:"message last"},[t._v("What do I buy more than once a week?")]),s("div",{staticClass:"message last"},[t._v("What do I buy every other week?")])])])])])])])])])])])])}],g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"signUp"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-8 col-md-8 col-lg-8 mx-auto"},[s("div",{staticClass:"card card-signin my-5"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Time to make shopping a whole lot easier!")]),s("form",{staticClass:"form-signin"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"form-control",attrs:{type:"text",id:"firstname",placeholder:"First Name"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}})]),s("br"),s("div",{staticClass:"col-md-6 form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"form-control",attrs:{type:"text",id:"lastname",placeholder:"Last Name"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}})])]),s("br"),s("div",{staticClass:"form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("br"),s("div",{staticClass:"form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0),s("button",{staticClass:"btn btn-lg btn-outline-primary",attrs:{type:"submit"},on:{click:t.signup}},[t._v("Sign Up")])])])])]),s("div",{staticClass:"col-sm-4 col-md-4 col-lg-4 mx-auto"},[s("div",{staticClass:"card card-signin my-5"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-center"},[t._v("Already Have an Account?")]),s("p",{staticClass:"text-center"},[t._v(" If you already has an account, go ahead and sign in. We've missed you! ")]),s("router-link",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{to:"/signin"}},[t._v("Sign In")])],1)])])])])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-label-group"},[s("input",{staticClass:"form-control",attrs:{type:"password",id:"password-confirm",placeholder:"Confirm Password"}})])}],v=u.firestore(),C={name:"signup",data:function(){return{email:"",password:"",firstname:"",lastname:""}},methods:{signup:function(t){var e=this;u.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(){u.auth().currentUser.updateProfile({displayName:e.firstname}).then((function(){console.log(u.auth().currentUser),v.collection("users").doc(u.auth().currentUser.uid).set({firstname:e.firstname,lastname:e.lastname,username:e.firstname,email:e.email}).then((function(){Gt.go({name:"groceryDashboard"})})).catch((function(t){e.errorMessage=t.message}))})).catch((function(t){console.log(t),e.errorMessage=t.message}))})).catch((function(t){console.log(t),e.errorMessage=t.message})),t.preventDefault()}}},b=C,_=(s("0dc4"),s("2877")),y=Object(_["a"])(b,g,h,!1,null,"46fd8c79",null),k=y.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"signIn"}},[s("button",{staticClass:"btn",staticStyle:{"background-color":"#3b5998"},attrs:{type:"button"},on:{click:t.signin}},[s("i",{staticClass:"fab fa-facebook-f pr-1"}),t._v("Sign in with Facebook ")])])},w=[],I=(s("ac6a"),s("a481"),s("8aa5")),S=s.n(I),L=s("bc3a"),D=s.n(L),E=u.firestore(),A={name:"signin",data:function(){return{email:"",password:"",currentUser:u.auth().currentUser}},methods:{getUrlVars:function(){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,s,a){t[s]=a}));return t},getUrlParam:function(t,e){var s=e;return window.location.href.indexOf(t)>-1&&(s=this.getUrlVars()[t]),s},signin:function(t){var e=this,s=window.location.href,a=new URL(s),i=a.searchParams.get("account_linking_token"),r="EAAiUkvZCXcG4BAFhoeZCynyApZCeBtpd8YPJUVDgRG8ttHD0i1tk96yzICtoeqeyW9ofg2bryQtlIZCyDdmLY0BCZAaQePaAH6JjWEpGkLFBIeCPqaZCQkU4S765N0CZAJZCgL0EMbb7Flq61jGKAQX8IA1oAshOfZBggpAeY5wXArM3T4QuZCZAH6i",o=a.searchParams.get("redirect_uri");if(console.log(i),console.log(o),null!=i&&o){var n=new S.a.auth.FacebookAuthProvider;u.auth().signInWithPopup(n).then((function(t){t.credential.accessToken;var s=t.user;alert("Alert 1 Login successful for ".concat(s.providerData[0].displayName)),u.auth().currentUser.updateProfile({displayName:s.providerData[0].displayName}).then((function(){e.updateDoc(s,i,r,o)})).catch((function(t){console.log(t),e.errorMessage=t.message}))})).catch((function(t){console.log(t);t.code,t.message,t.email,t.credential}))}else{n=new S.a.auth.FacebookAuthProvider;u.auth().signInWithPopup(n).then((function(t){t.credential.accessToken;var s=t.user;alert("Alert 2 Login successful for ".concat(s.providerData[0].displayName)),u.auth().currentUser.updateProfile({displayName:s.providerData[0].displayName}).then((function(){e.currentUser=u.auth().currentUser,console.log("Then "+e.currentUser.uid+" "+u.auth().currentUser),E.collection("users").doc(e.currentUser.uid).set({name:s.providerData[0].displayName,facebookID:s.providerData[0].uid},{merge:!0}).then((function(){e.loadData(),Gt.go({name:"groceryDashboard"})})).catch((function(t){e.errorMessage=t.message}))})).catch((function(t){console.log(t),e.errorMessage=t.message}))})).catch((function(t){console.log(t);t.code,t.message,t.email,t.credential}))}},loadData:function(){console.log("Checking storage"+sessionStorage.getItem("storeId")),console.log("uid: "+this.currentUser.uid),E.collection("users").doc(this.currentUser.uid).get().then((function(t){t.exists&&t.get("storeId")&&(console.log(t.get("storeId")),sessionStorage.setItem("storeId",t.get("storeId")))})).catch((function(t){console.log("Error getting document:",t)}))},addToShoppingLists:function(t,e){var s=this;this.currentUser=u.auth().currentUser,console.log(this.currentUser.uid),console.log("addtoshopping lists");var a={messengerID:t.data.recipient};E.collection("shopping_lists").where("uid","==",this.currentUser.uid).get().then((function(t){var i=E.batch();t.docs.forEach((function(t){var e=S.a.firestore().collection("shopping_lists").doc(t.id);i.update(e,a)})),i.commit().then((function(){console.log("updated all documents inside"),window.location.href=e+"&authorization_code="+s.currentUser.uid}))})).catch((function(t){console.log(t.message),console.log("No Shopping lists yet"),window.location.href=e+"&authorization_code="+s.currentUser.uid}))},updateDoc:function(t,e,s,a){var i=this;this.currentUser=u.auth().currentUser,D.a.get("https://graph.facebook.com/v2.6/me?access_token="+s+"&fields=recipient&account_linking_token="+e).then((function(e){console.log(e.data.recipient),E.collection("users").doc(i.currentUser.uid).update({name:t.providerData[0].displayName,facebookID:t.providerData[0].uid,messengerID:e.data.recipient}).then((function(){console.log("then"),i.addToShoppingLists(e,a)})).catch((function(t){console.log(t.message),i.errorMessage=t.message}))}))}}},P=A,U=(s("85f0"),Object(_["a"])(P,x,w,!1,null,"5dce47fa",null)),N=U.exports,q={name:"homepage",components:{SignUp:k,SignIn:N},data:function(){return{isLoggedIn:!1,currentUser:!1,messengerAuth:null}},created:function(){u.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=u.auth().currentUser.email);var t=window.location.href,e=new URL(t),s=e.searchParams.get("account_linking_token");null!=s&&(this.messengerAuth=!0)}},T=q,O=(s("47a6"),Object(_["a"])(T,p,f,!1,null,"01af5202",null)),M=O.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-light",attrs:{id:"verify-details"}},[s("div",{staticClass:"row"},[s("Sidebar"),s("div",{staticClass:"col-md-6 ml-sm-auto col-lg-9 pt-4 pl-4"},[s("div",{staticClass:"container"},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 mb-3"}),s("div",{staticClass:"container"},[t.errors.length>0?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.errors[0])+" ")]):t._e(),s("div",{staticClass:"card bg-info-card order-card"},[s("div",{staticClass:"card-block"},[t.verified?t._e():s("form",{attrs:{id:"signup-form"},on:{submit:function(e){return e.preventDefault(),t.processForm(e)}}},[t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control border-input",attrs:{type:"text",name:"email",placeholder:"JohnDowe@mail.com",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control border-input",attrs:{type:"password",name:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("vue-google-autocomplete",{attrs:{id:"map",classname:"form-control",country:"ie"},on:{placechanged:t.getAddressData},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)]),t._m(3)]),t.verified?s("div",{staticClass:"row"},[t._m(4),s("div",{staticClass:"col-md-7"},[t._m(5),s("form",{attrs:{id:"address-form"},on:{submit:function(e){return e.preventDefault(),t.updateAddress(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("vue-google-autocomplete",{attrs:{id:"map",classname:"form-control",country:"ie"},on:{placechanged:t.getAddressData},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)])]),s("div",{staticClass:"text-center"},[t.submitError?t._e():s("button",{staticClass:"btn btn-success btn-fill btn-wd p-2 m-2",attrs:{type:"submit"}},[t._v(" "+t._s(t.buttonText)+" ")]),t.submitError?s("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" Error Occurred: "+t._s(t.buttonText)+" ")]):t._e()])])])]):t._e()])])])])])],1)])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"m-b-20 text-center"},[t._v(" Sign up to Your Local Supermarket "),s("br"),s("small",{staticClass:"text-center text-grey"},[t._v("(Needed for delivery and Collection Services)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("i",{staticClass:"fas fa-envelope",staticStyle:{"font-size":"1.2rem"}}),t._v(" Email ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("i",{staticClass:"fas fa-lock",staticStyle:{"font-size":"1.2rem"}}),t._v(" Password")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-success btn-fill btn-wd p-2 m-2",attrs:{type:"submit"}},[t._v(" Create a Link ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-5"},[s("h5",{staticClass:"m-b-20 text-center"},[t._v(" Account Linked Successfully! ")]),s("br"),s("div",{staticClass:"row justify-content-center"},[s("span",{staticClass:"mt-1"},[s("i",{staticClass:"far fa-check-circle text-success",staticStyle:{"font-size":"3.2rem"}})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"m-b-20 text-center"},[s("i",{staticClass:"fas fa-home",staticStyle:{"font-size":"1.2rem"}}),t._v(" Update Your Delivery Address ")])}],j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"sidebar sidebar-default sidebar-separate col-md-3 pt-4"},[s("div",{staticClass:"sidebar-content"},[s("div",{staticClass:"sidebar-category sidebar-default"},[s("div",{staticClass:"sidebar-user rounded"},[s("div",{staticClass:"category-content"},[s("h6",[t._v("Good to see You!")]),s("small",[t._v(t._s(t.currentUser.displayName))])])])]),s("div",{staticClass:"sidebar-category sidebar-default"},[t._m(0),s("div",{staticClass:"category-content"},[s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/GroceryLists/"}},[s("i",{staticClass:"fas fa-shopping-cart"}),t._v(" Manage Grocery Lists ")])],1),s("li",{staticClass:"nav-item"},[t.verified?t._e():s("router-link",{staticClass:"nav-link",attrs:{to:"/verify-details"}},[s("i",{staticClass:"fas fa-store"}),t._v("Verify Store Login ")]),t.verified?s("router-link",{staticClass:"nav-link",attrs:{to:"/verify-details"}},[s("i",{staticClass:"fas fa-home"}),t._v("Change Delivery Address ")]):t._e()],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/#features"}},[s("i",{staticClass:"fas fa-comments"}),t._v("View All Chatbot Features ")])],1),t._m(1)])])])])])},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category-title"},[s("span",[t._v("Options")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://www.facebook.com/SmartGrocery-103970551177074"}},[s("i",{staticClass:"fab fa-facebook-messenger text-primary"}),t._v(" Visit Facebook Page ")])])}],W={name:"sidebar",data:function(){return{currentUser:u.auth().currentUser,verified:null}},created:function(){u.auth().currentUser&&(this.currentUser=u.auth().currentUser),null!=sessionStorage.getItem("storeId")&&(console.log(sessionStorage.getItem("storeId")),this.verified=!0)}},z=W,B=(s("89e1"),Object(_["a"])(z,j,G,!1,null,"18603f18",null)),R=B.exports,H=s("0118"),V=u.firestore(),Y={name:"verifyDetails",components:{Sidebar:R,VueGoogleAutocomplete:H["a"]},data:function(){return{currentUser:u.auth().currentUser,verified:null,storeId:sessionStorage.getItem("storeId"),errors:[],email:null,password:null,address:null,buttonText:"Update Address",submitError:!1}},created:function(){this.loadData()},methods:{processForm:function(){var t=this;D.a.post("https://supermarketmock-api.herokuapp.com/api/register",{email:this.email,password:this.password,address:this.address}).then((function(e){console.log(e),console.log(e.data.id),console.log("trying to update store id in firebase"),201==e.status&&(sessionStorage.setItem("storeId",e.data.id),V.collection("users").doc(t.currentUser.uid).set({storeId:e.data.id},{merge:!0}).then(t.$router.push({name:"groceryLists"})))}),(function(e){console.log("This is the error"+e),t.errors.push("Error: This email may be in use \n"+e)}))},updateAddress:function(){var t=this;D.a.put("https://supermarketmock-api.herokuapp.com/api/customer/"+this.storeId,{address:this.address}).then((function(e){t.submitError=!1,t.buttonText="Address Updated!"}),(function(e){t.submitError=!0,t.buttonText=e,console.log(e)}))},loadData:function(){var t=this;console.log("Checking storage"+sessionStorage.getItem("storeId")),console.log("uid: "+this.currentUser.uid),V.collection("users").doc(this.currentUser.uid).get().then((function(t){t.exists&&t.get("storeId")&&(console.log(t.get("storeId")),sessionStorage.setItem("storeId",t.get("storeId")))})).catch((function(t){console.log("Error getting document:",t)})),null!=sessionStorage.getItem("storeId")?(this.verified=!0,D.a.get("https://supermarketmock-api.herokuapp.com/api/customer/"+sessionStorage.getItem("storeId")).then((function(e){console.log(e),console.log(e.data.address),200==e.status&&(t.address=e.data.address)}),(function(t){console.log(t)}))):this.verified=!1},getAddressData:function(t,e,s){this.address=e.formatted_address}}},Z=Y,K=(s("a87c"),Object(_["a"])(Z,$,F,!1,null,"051038c8",null)),Q=K.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-light",attrs:{id:"grocery-dashboard"}},[s("div",{staticClass:"row"},[s("Sidebar"),s("div",{staticClass:"col-md-6 ml-sm-auto col-lg-9 pt-4 pl-4"},[s("div",{staticClass:"container"},[t._m(0),t.loadingScreen?s("div",{staticClass:"container text-center mt-3 pt-3"},[t._m(1),s("h1",{staticClass:"small"},[t._v("Loading Details...This wont take long!")])]):t._e(),t.loadingScreen?t._e():s("div",{staticClass:"container"},[t.deliveryExists||t.pickupExists?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mb-4"},[t.listCreated&&t.messengerLink||!t.verified?t._e():s("div",{staticClass:"card"},[s("h5",{staticClass:"card-title text-center mt-3"},[t._v("Shopping Account")]),t._m(2)]),t.listCreated&&t.messengerLink||t.verified?t._e():s("div",{staticClass:"card"},[s("h5",{staticClass:"card-title text-center mt-3 h-100"},[t._v("Firstly Link Shopping Account")]),s("div",{staticClass:"card-body row"},[s("div",{staticClass:"row justify-content-center"},[t._m(3),s("router-link",{staticClass:"btn btn-dark btn-fill btn-wd p-2 m-2 text-white",attrs:{to:"/verify-details"}},[t._v("Link Account")])],1)])])]),s("div",{staticClass:"col-md-6 mb-4"},[t.verified&&t.messengerLink||t.listCreated?t._e():s("div",{staticClass:"card"},[s("h5",{staticClass:"card-title text-center mt-3"},[t._v("Then Create a Grocery List")]),s("div",{staticClass:"card-body row"},[s("div",{staticClass:"row justify-content-center"},[t._m(4),s("router-link",{staticClass:"btn btn-dark btn-fill btn-wd p-2 m-2 text-white",attrs:{to:"/addItem"}},[t._v("Create First List")])],1)])]),t.verified&&t.messengerLink||!t.listCreated?t._e():s("div",{staticClass:"card"},[s("h5",{staticClass:"card-title text-center mt-3"},[t._v("Grocery List")]),t._m(5)])]),s("div",{staticClass:"col-md-12 mb-4"},[t.verified&&t.listCreated&&t.messengerLink?t._e():s("div",{staticClass:"card"},[s("h5",{staticClass:"card-title text-center mt-3"},[t._v("Message the Bot")]),t._m(6)])])]),t.verified&&t.listCreated&&t.messengerLink?s("div",{staticClass:"row"},[t.deliveryExists?s("div",{staticClass:"col-md-6 col-xl-6 pt-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[t._m(7),s("br"),s("div",{staticClass:"row"},[s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"fas fa-clipboard-list",staticStyle:{"font-size":"18px"}}),t._v(" "+t._s(t.deliveryList)+" ")]),s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"fas fa-calendar-day",staticStyle:{"font-size":"18px"}}),t._v(" Date "+t._s(t.deliveryDate)+" ")]),s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"far fa-clock",staticStyle:{"font-size":"18px"}}),t._v(" Expect at "+t._s(t.deliveryTime.slice(0,-3))+" ")]),s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"fas fa-euro-sign mt-1",staticStyle:{"font-size":"18px"}}),t._v(" Cost "+t._s(t.deliveryCost)+" ")])])])])]):t._e(),t.deliveryExists?t._e():s("div",{staticClass:"col-md-6 col-xl-6 pt-4"},[t._m(8)]),t.pickupExists?s("div",{staticClass:"col-md-6 col-xl-6 pt-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[t._m(9),s("br"),s("div",{staticClass:"row"},[s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"fas fa-clipboard-list",staticStyle:{"font-size":"18px"}}),t._v(" "+t._s(t.pickupList)+" ")]),s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"fas fa-calendar-day",staticStyle:{"font-size":"18px"}}),t._v(" Date "+t._s(t.pickupDate)+" ")]),s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"far fa-clock",staticStyle:{"font-size":"18px"}}),t._v(" Ready at "+t._s(t.pickupTime.slice(0,-3))+" ")]),s("h5",{staticClass:"col-6 mt-2"},[s("i",{staticClass:"fas fa-euro-sign mt-1",staticStyle:{"font-size":"18px"}}),t._v(" Cost "+t._s(t.pickupCost)+" ")])])])])]):t._e(),t.pickupExists?t._e():s("div",{staticClass:"col-md-6 col-xl-6 pt-4"},[t._m(10)])]):t._e()])])])],1)])},X=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 mb-3"},[s("h1",{staticClass:"h2"},[t._v("Welcome to the SmartGrocery Dashboard")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lds-facebook mt-3 pt-3"},[s("div"),s("div"),s("div")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-store text-center",staticStyle:{"font-size":"3rem"}}),s("p",{staticClass:"card-text"},[t._v("Shopping Account has been linked successfully.")])]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12 p-1",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-check text-center text-success",staticStyle:{"font-size":"3rem"}})])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-store text-center",staticStyle:{"font-size":"3rem"}}),s("p",{staticClass:"card-text"},[t._v("This allows you to order deliveries & pickups.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-shopping-cart text-center",staticStyle:{"font-size":"3rem"}}),s("p",{staticClass:"card-text"},[t._v("Grocery lists are used to find recipes & make orders")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-shopping-cart text-center",staticStyle:{"font-size":"3rem"}}),s("p",{staticClass:"card-text"},[t._v("You have successfully created a grocery list.")])]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12 p-1",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-check text-center text-success",staticStyle:{"font-size":"3rem"}})])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fab fa-facebook-messenger text-center text-primary",staticStyle:{"font-size":"3rem"}}),s("p",{staticClass:"card-text"},[t._v(" Click the send message button on the facebook page followed by 'Get started' in the chat window. You'll be prompted to sign into your SmartGrocery account. After that you are all set up! ")])]),s("a",{staticClass:"btn btn-dark btn-fill btn-wd p-2 m-2 text-white",attrs:{href:"https://www.facebook.com/SmartGrocery-103970551177074"}},[t._v("Send Message")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"m-b-20 text-center"},[s("i",{staticClass:"fas fa-truck",staticStyle:{"font-size":"18px"}}),t._v(" Latest Delivery Details "),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[s("h5",{staticClass:"text-center"},[t._v("Schedule a Delivery!")]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fab fa-facebook-messenger text-center text-primary",staticStyle:{"font-size":"3rem"}})]),s("small",{staticClass:"text-center"},[t._v("No Deliveries have been made yet!")])]),s("div",{staticClass:"text-center"},[s("a",{staticClass:"btn btn-dark btn-fill btn-wd p-2 m-2",attrs:{href:"https://www.facebook.com/SmartGrocery-103970551177074"}},[t._v("Schedule a Delivery")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"m-b-20 text-center"},[s("i",{staticClass:"fas fa-shopping-basket",staticStyle:{"font-size":"22px"}}),t._v(" Latest Pickup Details "),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[s("h5",{staticClass:"text-center"},[t._v("Schedule a Pickup!")]),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fab fa-facebook-messenger text-center text-primary",staticStyle:{"font-size":"3rem"}})]),s("small",{staticClass:"text-center"},[t._v("No Pickups have have been made yet!")])]),s("div",{staticClass:"text-center"},[s("a",{staticClass:"btn btn-dark btn-fill btn-wd p-2 m-2",attrs:{href:"https://www.facebook.com/SmartGrocery-103970551177074"}},[t._v("Schedule a Pickup")])])])])}],tt=(s("4917"),u.firestore()),et={name:"grocery-dashboard",components:{Sidebar:R},data:function(){return{currentUser:u.auth().currentUser,deliveryDate:"",deliveryList:"",deliveryTime:"",deliveryCost:"",pickupDate:"",pickupList:"",pickupTime:"",pickupCost:"",verified:null,listCreated:null,messengerLink:null,storeId:null,deliveryExists:!1,pickupExists:!1,loadingScreen:null}},created:function(){this.fetchInfo(),this.loadData(),this.checkList()},methods:{fetchInfo:function(){this.deliveryInfo(),this.pickupInfo()},deliveryInfo:function(){var t=this,e=sessionStorage.getItem("storeId");null!=e&&(console.log("NOT NULL"),this.storeId=e),D.a.get("https://supermarketmock-api.herokuapp.com/api/delivery/customer/"+sessionStorage.getItem("storeId")).then((function(e){if(console.log("Then response"+e.status),console.log(e.data[0]),console.log("Setting loading to false storeID->"+t.storeId),t.loadingScreen=!1,200==e.status&&void 0==e.data[0])t.deliveryExists=!1;else{t.deliveryExists=!0,t.deliveryList=e.data[0].list_name;var s=e.data[0].delivery_date.match(/\d+/g),a=s[0].substring(2),i=s[1],r=s[2];t.deliveryDate=r+"/"+i+"/"+a,t.deliveryTime=e.data[0].delivery_time,t.deliveryCost=e.data[0].order_price}}),(function(t){console.log("ERr"+t)}))},pickupInfo:function(){var t=this;D.a.get("https://supermarketmock-api.herokuapp.com/api/pickup/customer/"+sessionStorage.getItem("storeId")).then((function(e){if(console.log("Setting loading to false storeID->"+t.storeId),t.loadingScreen=!1,200==e.status&&void 0==e.data[0])t.pickupExists=!1;else{t.pickupExists=!0,t.pickupList=e.data[0].list_name;var s=e.data[0].pickup_date.match(/\d+/g),a=s[0].substring(2),i=s[1],r=s[2];t.pickupDate=r+"/"+i+"/"+a,t.pickupTime=e.data[0].pickup_time,t.pickupCost=e.data[0].order_price}}),(function(t){console.log(t)}))},loadData:function(){var t=this;null!=this.messengerLink&&null!=this.verified||(console.log("Setting loading to true storeID->"+this.storeId),this.loadingScreen=!0,console.log("load data"),tt.collection("users").doc(this.currentUser.uid).get().then((function(t){t.exists&&(t.get("storeId")&&(console.log("StoreID Exists"),sessionStorage.setItem("storeId",t.get("storeId"))),t.get("messengerID")&&(console.log("messengerID Exists"),sessionStorage.setItem("messengerLink",!0)))})).catch((function(t){console.log("Error getting document:",t)})).finally((function(){"true"==sessionStorage.getItem("messengerLink")&&(t.messengerLink=!0),null!=sessionStorage.getItem("storeId")?(t.verified=!0,D.a.get("https://supermarketmock-api.herokuapp.com/api/customer/"+sessionStorage.getItem("storeId")).then((function(e){console.log("Setting loading to false storeID->"+t.storeId),t.loadingScreen=!1,200==e.status&&(t.address=e.data.address)}),(function(t){console.log(t)}))):t.verified=!1})))},checkList:function(){var t=this;console.log("Check session"+sessionStorage.getItem("listCreated")),null==sessionStorage.getItem("listCreated")?(console.log("Check session"+sessionStorage.getItem("listCreated")),tt.collection("shopping_lists").where("uid","==",this.currentUser.uid).get().then((function(e){if(!e.empty)return sessionStorage.setItem("listCreated",!0),void(t.listCreated=sessionStorage.getItem("listCreated"))})).catch((function(t){console.log("Error getting document:",t)}))):this.listCreated=!0}}},st=et,at=(s("50ae"),Object(_["a"])(st,J,X,!1,null,"403dafef",null)),it=at.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-light",attrs:{id:"add-grocery"}},[s("div",{staticClass:"row"},[s("Sidebar"),s("div",{staticClass:"col-md-6 ml-sm-auto col-lg-9 pt-4 pl-4"},[s("div",{staticClass:"container"},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Your Grocery Lists")]),s("button",{staticClass:"btn btn-outline-dark btn-circle btn-sm",attrs:{type:"button",to:"/addItem"}},[s("i",{staticClass:"fa fa-plus"}),s("router-link",{attrs:{to:"/addItem"}},[t._v("Create New List")])],1)]),s("div",{staticClass:"container"},[0==t.shoppingLists.length?s("div",[s("div",{staticClass:"card clist"},[s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h5",{staticClass:"text-center"},[t._v("No Grocery Lists Created")]),t._m(0),s("div",{staticClass:"text-center"},[s("router-link",{staticClass:"btn btn-dark btn-fill btn-wd p-2 m-2 text-white",attrs:{to:"/addItem"}},[t._v("Create First List")])],1)])])])])]):t._e(),t._l(t.shoppingLists,(function(e){return s("div",{key:e.docuID,staticClass:"listAccordion",attrs:{id:"accordian"+e.docuID}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h5",{staticClass:"mb-0"},[s("button",{staticClass:"d-flex btn btn-link list-title collapsed fullBtn justify-content-center",attrs:{"data-toggle":"collapse","data-target":"#"+e.docuID,"aria-expanded":"false","aria-controls":e.docuID}},[s("h4",{staticClass:"font-weight-bold listName mb-0 mt-3"},[t._v(t._s(e.listName))])]),s("p",{staticClass:"mb-2"},[s("i",{staticClass:"fas fa-shopping-basket"}),t._v(" "+t._s(e.amnt)+" Items ")]),s("p",[t._v("Total List Price €"+t._s(e.list_price))])])]),s("div",{staticClass:"collapse show",attrs:{id:e.docuID,"aria-labelledby":e.docuID,"data-parent":"#accordian"+e.docuID}},[s("div",{staticClass:"card-body"},[s("div",{attrs:{id:"editBtn"}},[s("router-link",{staticClass:"btn btn-outline-success btn-circle btn-sm",attrs:{tag:"span",to:{name:"modify-list",params:{id:e["docuID"]}}}},[s("i",{staticClass:"fa fa-edit"}),t._v(" Edit List ")])],1),s("div",{staticClass:"row"},[s("div",{staticClass:"card-group col-lg-12 row"},t._l(e.items,(function(e,a){return s("div",{key:a,staticClass:"col-xs-12 col-sm-6 col-md-6 col-lg-4 p-3"},[s("div",{staticClass:"card h-100"},[s("div",{staticClass:"card-body"},[s("img",{staticClass:"img-sm float-right",attrs:{src:e.img}}),s("h4",{staticClass:"card-title"},[s("a",[t._v(t._s(e.name))])]),s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[t._m(1,!0),t._v(" "+t._s(e.quantity)+" Item(s) @ €"+t._s(e.price.toFixed(2))+" each ")])])])])])})),0)])])])])])}))],2)])])],1)])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-shopping-cart text-center",staticStyle:{"font-size":"3rem"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn-floating btn-tw btn-sm"},[s("i",{staticClass:"fas fa-clipboard-list"})])}],nt=(s("6b54"),u.firestore()),ct={name:"groceryLists",components:{Sidebar:R},data:function(){return{currentUser:!1,shoppingLists:[]}},created:function(){u.auth().currentUser&&(this.currentUser=u.auth().currentUser),this.getShoppingingLists(),console.log(this.shoppingLists)},methods:{getShoppingingLists:function(){var t=[],e=nt.collection("shopping_lists");e.where("uid","==",this.currentUser.uid).get().then((function(e){if(e.empty)return t=null,void console.log("No matching documents.");e.forEach((function(e){e.id.toString;var s=e.data();s.docuID=e.id,s.amnt=s.items.length,t.push(s)}))})).catch((function(t){console.log("Error getting documents",t)}));this.shoppingLists=t}}},lt=ct,dt=(s("2e4e"),Object(_["a"])(lt,rt,ot,!1,null,"1a152038",null)),ut=dt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-light main-panel",attrs:{id:"add-Item"}},[s("div",{staticClass:"content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4 col-md-5"},[s("div",{staticClass:"card card-user"},[s("div",{staticClass:"content"},[s("div",{staticClass:"author"},[""!=t.listName?s("h4",{staticClass:"title"},[t._v(" "+t._s(t.listName)+" "),s("br")]):t._e(),""==t.listName?s("h4",{staticClass:"title"},[t._v(" List Name "),s("br")]):t._e()]),s("div",{staticClass:"container"})])])]),s("div",{staticClass:"col-lg-8 col-md-7"},[s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"content"},[s("form",{attrs:{id:"createListForm"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.listName,expression:"listName"}],staticClass:"form-control border-input",attrs:{type:"text",placeholder:"Name Of List",required:""},domProps:{value:t.listName},on:{keyup:t.validateListName,input:function(e){e.target.composing||(t.listName=e.target.value)}}}),t.errorMessage?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errorMessageValue))]):t._e()])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("label",[t._v("Product")]),s("AutoCompleteSearch",{attrs:{"place-holder-text":t.placeHolderInputText,"result-items":t.autoCompleteResult,"on-key-up":t.onKeyUpAutoCompleteEvent,"on-selected":t.onSelectedAutoCompleteEvent,"auto-complete-progress":t.autoCompleteProgress,"item-text":t.autoCompleteText,"item-id":t.autoCompleteFieldId,"item-image":t.autoCompleteImage}})],1),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Quantity")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control border-input",attrs:{type:"number",required:"",min:"1"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[t._m(2),s("div",{staticClass:"input-group mb-3"},[t._m(3),s("select",{directives:[{name:"model",rawName:"v-model",value:t.frequency,expression:"frequency"}],staticClass:"custom-select",attrs:{id:"frequencySelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.frequency=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"none",selected:""}},[t._v("Choose Purchase Frequency")]),s("option",{attrs:{value:"More Than Once a Week"}},[t._v("More than Once A Week")]),s("option",{attrs:{value:"Once Per Week"}},[t._v("Once A Week")]),s("option",{attrs:{value:"Bi-Weekly"}},[t._v("Bi-Weekly")])])])])])]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-secondary btn-fill btn-wd",attrs:{type:"submit",id:"btnCreateList"},on:{click:t.createList}},[t._v("Add Product & Create List")])])])])])])])])])])},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h4",{staticClass:"title"},[t._v("Create List")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v(" List Name "),s("span",{attrs:{title:"Currently Supported list names: 'Weekly Shop','Essentials','Monthly Shop' or 'Essential Items'"}},[s("i",{staticClass:"fa fa-question-circle tooltiptext",staticStyle:{"font-size":"1rem"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v(" Product Purchase Frequency "),s("small",[t._v("(Optional)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("label",{staticClass:"input-group-text",attrs:{for:"frequencySelect"}},[t._v("Frequency")])])}],ft=(s("6762"),s("2fdb"),s("7f7f"),[{id:1,name:"Milk"},{id:2,name:"Bread"},{id:3,name:"Cheese"},{id:4,name:"Mice Meat"},{id:5,name:"Butter"},{id:6,name:"Peppers"}]),gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"autocomplete form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keywordSearch,expression:"keywordSearch"}],staticClass:"form-control border-input",class:{"loading-circle":t.keywordSearch.length>1,"hide-loading-circle":t.resultItems.length>0||0==t.resultItems.length&&!t.autoCompleteProgress},attrs:{type:"text",id:"autoCompleteSearch",placeholder:t.placeHolderText},domProps:{value:t.keywordSearch},on:{keyup:function(e){!t.autoCompleteProgress&&t.onKeyUp(t.keywordSearch)},input:function(e){e.target.composing||(t.keywordSearch=e.target.value)}}}),t.resultItems.length>0?s("ul",{staticClass:"list-group autocomplete-results"},t._l(t.resultItems,(function(e,a){return s("li",{key:a,staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",on:{click:function(s){t.keywordSearch="",t.onSelected(e[t.itemId],e[t.itemText],e[t.itemImage],e[t.itemDepartment])}}},[s("div",{staticClass:"media align-items-lg-center flex-column flex-lg-row"},[s("div",{staticClass:"media-body order-2 order-lg-1"},[s("h5",{staticClass:"font-weight-bold"},[t._v(" "+t._s(e[t.itemText])+" "),s("p",{staticClass:"font-weight-bold text-success my-2"},[t._v("€"+t._s(e[t.itemId]))])])])])])})),0):t._e()])},ht=[],vt={name:"autoCompleteSearch",props:{placeHolderText:String,onKeyUp:Function,onSelected:Function,resultItems:Array,autoCompleteProgress:Boolean,itemText:String,itemId:String,itemImage:String,itemDepartment:String},data:function(){return{keywordSearch:""}}},Ct=vt,bt=(s("c4d2"),Object(_["a"])(Ct,gt,ht,!1,null,"69a26872",null)),_t=bt.exports,yt=u.firestore(),kt={name:"add-item",mounted:function(){this.products=ft},components:{Sidebar:R,AutoCompleteSearch:_t},data:function(){return{currentUser:u.auth().currentUser,placeHolderInputText:"Search for a Product",autoCompleteResult:[],autoCompleteProgress:!1,autoCompleteText:"name",autoCompleteFieldId:"price",autoCompleteImage:"image",ingredientName:"",productList:{},listName:"",quantity:null,frequency:"none",listNames:[],errorMessageValue:null,errorMessage:!1,messengerID:null}},created:function(){this.getListNames()},methods:{onSelectedAutoCompleteEvent:function(t,e,s){console.log(t,e,s),this.autoCompleteProgress=!1,this.autoCompleteResult=[];var a={name:e,price:t,img:s};this.placeHolderInputText=e,this.productList=a},onKeyUpAutoCompleteEvent:function(t){var e=this;this.autoCompleteResult=[],this.autoCompleteProgress=!1,t.length>1?(this.autoCompleteProgress=!0,D()({method:"get",url:"https://dev.tescolabs.com/grocery/products/?query="+t+"&offset=0&limit=10",headers:{"Ocp-Apim-Subscription-Key":"30661c41f57f4b1e8351e4834c462e40"}}).then((function(s){var a=[];s.data.uk.ghs.products.results.forEach((function(e,s){console.log(e),e.name.toLowerCase().indexOf(t.toLowerCase())>=0&&a.push(e)})),e.autoCompleteResult=a,e.autoCompleteProgress=!1})).catch((function(t){e.autoCompleteProgress=!1,e.autoCompleteResult=[]}))):(this.autoCompleteProgress=!1,this.autoCompleteResult=[])},createList:function(){var t=this;if(!1===this.errorMessage&&""!=this.listName){this.productList.quantity=this.quantity,this.productList.frequency=this.frequency;var e=this.productList.name.replace(/\d+(g|ml)/i,"");e=e.substr(e.indexOf(" ")+1);for(var s=["Tesco","Large","Multipack","Pack","Family","Finest","Mixed","Organic","Happy","Medium","Hovis","White","Soft"],a=0;a<=s.length;a++)e=e.replace(s[a],""),this.productList.simpleName=e;var i=this.productList;yt.collection("shopping_lists").add({uid:this.currentUser.uid,listName:this.listName,items:[i]}).then((function(e){var s=e.id;console.log(s),t.$router.push({name:"modify-list",params:{id:s}})})).catch((function(e){t.$router.push({name:"groceryLists",params:{id:id}}),t.errorMessage=e.message}))}},getListNames:function(){var t=this,e=[],s=yt.collection("shopping_lists");s.where("uid","==",this.currentUser.uid).get().then((function(s){var a;s.empty?console.log("No matching documents."):(s.forEach((function(t){console.log(t.id,"=>",t.data().listName),e.push(t.data().listName.toLowerCase()),a=t.data().messengerID?t.data().messengerID:null})),t.messengerID=a,t.listNames=e)})).catch((function(t){console.log("Error getting documents",t)})).then((function(){t.checkForMessengerID()}))},checkForMessengerID:function(){var t,e=this;(console.log("check for messengerID"+this.messengerID),null==this.messengerID)&&yt.collection("users").doc(this.currentUser.uid).get().then((function(e){e.exists&&(console.log("checkformessenger"+e.data().messengerID),t=e.data().messengerID)})).catch((function(t){console.log("Error getting document:",t)})).then((function(){e.messengerID=t,null!=e.messengerID?e.addMessengerIDToLists():console.log("Messenger ID is still not set! "+e.messengerID)}))},addMessengerIDToLists:function(){console.log("addMessengerIDToLists"+this.messengerID);var t={messengerID:this.messengerID};yt.collection("shopping_lists").where("uid","==",this.currentUser.uid).get().then((function(e){var s=yt.batch();e.docs.forEach((function(e){var a=yt.collection("shopping_lists").doc(e.id);s.update(a,t)})),s.commit().then((function(){console.log("updated all documents inside")}))}))},validateListName:function(){clearTimeout();var t=["weekly shop","monthly shop","essentials","essential items"],e=this.listName.toLowerCase();this.listNames.includes(e)?(this.errorMessage=!0,this.errorMessageValue="A list with this name exists already."):""==this.listName?(this.errorMessage=!0,this.errorMessageValue="The List Name can't be empty!"):t.includes(e)?this.errorMessage=!1:(this.errorMessage=!0,this.errorMessageValue="This list name is not supported for use with the chatbot. View supported names by hovering over the '?' icon")}}},xt=kt,wt=(s("6d64"),Object(_["a"])(xt,mt,pt,!1,null,"77d7807c",null)),It=wt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-light main-panel",attrs:{id:"add-Item"}},[s("div",{staticClass:"content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4 col-md-5"},[s("div",{staticClass:"accordion",attrs:{id:"myAccordion"}},[s("div",{staticClass:"card card-user"},[s("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[s("h2",{staticClass:"mb-0"},[s("button",{staticClass:"btn btn-link author",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne"}},[s("div",{staticClass:"author"},[""!=t.listName?s("h4",{staticClass:"title"},[t._v(" "+t._s(t.listName)+" "),s("br"),s("small",{staticClass:"text-grey"},[t._v("(Click to expand)")])]):t._e(),""==t.listName?s("h4",{staticClass:"title"},[t._v(" List Name "),s("br")]):t._e()])])])]),s("hr"),s("div",{staticClass:"text-center"},[t.changes?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("h5",[t._v(" "+t._s(t.amountOfItems)+" "),s("br"),s("small",[t._v("Items")])])]),s("div",{staticClass:"col-md-4"},[s("h5",[t._v(" €"+t._s(t.totalPrice)+" "),s("br"),s("small",[t._v("Total Cost")])])]),s("div",{staticClass:"col-md-4 mt-2"},[s("small",{staticClass:"mt-3 mr-1"},[s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:t.deleteList}},[t._v("Delete List")])])])]),t.changes?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("h5",[t._v(" "+t._s(t.amountOfItems)+" "),s("br"),s("small",[t._v("Items")])])]),s("div",{staticClass:"col-md-4"},[s("h5",[t._v(" €"+t._s(t.totalPrice)+" "),s("br"),s("small",[t._v("Total Cost")])])]),s("div",{staticClass:"col-md-4 mt-2"},[s("small",{staticClass:"mt-3 mr-1"},[s("button",{staticClass:"btn btn-sm btn-outline-success",on:{click:t.updateList}},[t._v("Save Changes")])])])]):t._e()]),s("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#myAccordion"}},[s("div",{},[s("div",{staticClass:"content container"},[s("div",{},[s("ul",{staticClass:"list-group-flush mb-3 item"},t._l(t.shoppingLists[0],(function(e,a){return s("li",{key:a,staticClass:"list-group-item d-flex justify-content-between lh-condensed item"},[s("div",[s("h6",{staticClass:"my-0"},[s("a",{staticClass:"text-danger",on:{click:function(e){return t.deleteItemFromLocalList(a)}}},[t._v("X Remove")]),s("br"),t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"quantity"},[s("small",{staticClass:"text-success mr-3"},[t._v("Price: €"+t._s(e.price))]),s("div",{staticClass:"input-group"},[t._m(0,!0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],staticClass:"form-control form-control",attrs:{type:"number",name:"quantity",min:"1"},domProps:{value:e.quantity},on:{change:function(e){return t.changeLocalQuantity(a,e)},input:function(s){s.target.composing||t.$set(e,"quantity",s.target.value)}}})])])])])})),0)])])])])])])]),s("div",{staticClass:"col-lg-8 col-md-7"},[s("div",{staticClass:"card"},[t._m(1),s("div",{staticClass:"content"},[s("form",{attrs:{id:"createListForm"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("label",[t._v("Product")]),s("AutoCompleteSearch",{attrs:{"place-holder-text":t.placeHolderInputText,"result-items":t.autoCompleteResult,"on-key-up":t.onKeyUpAutoCompleteEvent,"on-selected":t.onSelectedAutoCompleteEvent,"auto-complete-progress":t.autoCompleteProgress,"item-text":t.autoCompleteText,"item-id":t.autoCompleteFieldId,"item-image":t.autoCompleteImage,"item-department":t.AutoCompleteDepartment}})],1),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Quantity")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control border-input",attrs:{type:"number",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[t._m(2),s("div",{staticClass:"input-group mb-3"},[t._m(3),s("select",{directives:[{name:"model",rawName:"v-model",value:t.frequency,expression:"frequency"}],staticClass:"custom-select",attrs:{id:"frequencySelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.frequency=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"none",selected:""}},[t._v("Choose Purchase Frequency")]),s("option",{attrs:{value:"More Than Once a Week"}},[t._v("More than Once A Week")]),s("option",{attrs:{value:"Once Per Week"}},[t._v("Once A Week")]),s("option",{attrs:{value:"Bi-Weekly"}},[t._v("Bi-Weekly")])])])])])]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-secondary btn-fill btn-wd",attrs:{type:"submit",id:"btnCreateList"},on:{click:t.addToList}},[t._v("Add Product")])]),s("div",{staticClass:"clearfix"})])])])])])])])])},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("small",{staticClass:"input-group-text"},[t._v("Quantity")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h4",{staticClass:"title"},[t._v("Add Products")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v(" Product Purchase Frequency "),s("small",[t._v("(Optional)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("label",{staticClass:"input-group-text",attrs:{for:"frequencySelect"}},[t._v("Frequency")])])}],Dt=u.firestore(),Et={name:"modify-list",components:{Sidebar:R,AutoCompleteSearch:_t},data:function(){return{currentUser:!1,placeHolderInputText:"Search for a Product",autoCompleteResult:[],autoCompleteProgress:!1,autoCompleteText:"name",autoCompleteFieldId:"price",autoCompleteImage:"image",AutoCompleteDepartment:"superDepartment",ingredientName:"",listName:"",amountOfItems:0,totalPrice:null,quantity:null,frequency:"none",listId:null,shoppingLists:[],changes:!1,messengerID:null}},created:function(){u.auth().currentUser&&(this.currentUser=u.auth().currentUser),this.listId=this.$route.params.id,this.fetchListItems(this.listId)},methods:{onSelectedAutoCompleteEvent:function(t,e,s,a){console.log(t,e,s,a),this.autoCompleteProgress=!1,this.autoCompleteResult=[];var i={name:e,price:t,img:s,department:a};this.placeHolderInputText=e,this.productList=i},onKeyUpAutoCompleteEvent:function(t){var e=this;this.autoCompleteResult=[],this.autoCompleteProgress=!1,t.length>1?(this.autoCompleteProgress=!0,D()({method:"get",url:"https://dev.tescolabs.com/grocery/products/?query="+t+"&offset=0&limit=10",headers:{"Ocp-Apim-Subscription-Key":"30661c41f57f4b1e8351e4834c462e40"}}).then((function(s){var a=[];s.data.uk.ghs.products.results.forEach((function(e,s){console.log(e),e.name.toLowerCase().indexOf(t.toLowerCase())>=1&&a.push(e)})),e.autoCompleteResult=a,e.autoCompleteProgress=!1})).catch((function(t){e.autoCompleteProgress=!1,e.autoCompleteResult=[]}))):(this.autoCompleteProgress=!1,this.autoCompleteResult=[])},addToList:function(){var t=this;if(null!=this.productList){this.productList.quantity=this.quantity,this.productList.frequency=this.frequency;var e=this.productList.name.replace(/\d+(g|ml)/i,"");e=e.substr(e.indexOf(" ")+1);for(var s=["Tesco","Large","Multipack","Pack","Family","Finest","Mixed","Organic","Happy","Medium","Hovis","White","Soft"],a=0;a<=s.length;a++)e=e.replace(s[a],""),this.productList.simpleName=e;var i=Dt.collection("shopping_lists").doc(this.listId);this.productList,Dt.runTransaction((function(e){return e.get(i).then((function(s){console.log(s.data().items);var a=s.data().items.concat(t.productList);console.log(a),e.update(i,{list_price:t.totalPrice,list_quantity:t.quantity,items:a})}))})).then((function(e){console.log("Transaction success!"),t.$router.go()})).catch((function(t){console.log("Transaction failure:",t)}))}else console.log("problem")},deleteItemFromLocalList:function(t){this.changes=!0;var e=this.shoppingLists[0];e.splice(t,1);var s=0;e.forEach((function(t){s+=t.quantity*t.price})),this.totalPrice=s.toFixed(2),this.amountOfItems=e.length,console.log(s),console.log(e.length)},changeLocalQuantity:function(t){this.changes=!0;var e=this.shoppingLists[0];this.shoppingLists[0][t]=e[t];var s=0;e.forEach((function(t){s+=t.quantity*t.price})),this.totalPrice=s.toFixed(2),this.amountOfItems=e.length},updateList:function(){var t=this;if(1==this.changes){var e=this.shoppingLists[0],s=Dt.collection("shopping_lists").doc(this.listId);Dt.runTransaction((function(a){return a.get(s).then((function(i){console.log(i.data().items);var r=e;console.log(r),a.update(s,{list_price:t.totalPrice,list_quantity:t.amountOfItems,items:r})}))})).then((function(e){console.log("Transaction success!"),t.$router.go()})).catch((function(t){console.log("Transaction failure:",t)}))}else console.log("problem")},deleteList:function(){var t=this;Dt.collection("shopping_lists").doc(this.listId).delete().then((function(){t.$router.push({name:"groceryLists"})}))},fetchListItems:function(t){var e=this,s=0,a=[],i=Dt.collection("shopping_lists");i.doc(t).get().then((function(r){var o;if(r.empty)return a=[],void console.log("No matching documents.");r.data().messengerID?(o=r.data().messengerID,console.log("messengerID in fetchList"+o)):o=null;r.id.toString;var n=r.data();n.docuID=r.id,n.amnt=n.items.length,e.listName=n.listName,e.messengerID=o,e.amountOfItems=n.amnt,n.items.forEach((function(t){s+=t.quantity*t.price})),e.totalPrice=s.toFixed(2),i.doc(t).set({list_price:e.totalPrice,list_quantity:e.amountOfItems},{merge:!0}),a.push(n.items),e.shoppingLists=a})).catch((function(t){console.log("Error getting documents",t)})).then((function(){e.checkForMessengerID()}))},checkForMessengerID:function(){var t,e=this;(console.log("check for messengerID"+this.messengerID),null==this.messengerID)&&Dt.collection("users").doc(this.currentUser.uid).get().then((function(e){e.exists&&(console.log("checkformessenger"+e.data().messengerID),t=e.data().messengerID)})).catch((function(t){console.log("Error getting document:",t)})).then((function(){e.messengerID=t,null!=e.messengerID?e.addMessengerIDToLists():console.log("Messenger ID is still not set! "+e.messengerID)}))},addMessengerIDToLists:function(){console.log("addMessengerIDToLists"+this.messengerID);var t={messengerID:this.messengerID};Dt.collection("shopping_lists").where("uid","==",this.currentUser.uid).get().then((function(e){var s=Dt.batch();e.docs.forEach((function(e){var a=Dt.collection("shopping_lists").doc(e.id);s.update(a,t)})),s.commit().then((function(){console.log("updated all documents inside")}))}))}}},At=Et,Pt=(s("3235"),Object(_["a"])(At,St,Lt,!1,null,"5d5bbc30",null)),Ut=Pt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-light",attrs:{id:"allOrders"}},[s("div",{staticClass:"row"},[s("Sidebar"),s("div",{staticClass:"col-md-6 ml-sm-auto col-lg-9 pt-4 pl-4"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"container"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("datatable",{attrs:{data:[],columns:[],actions:[]}}),t._m(1)],1)])])])])],1)])},qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("All Orders")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-hover"},[s("thead",{staticClass:"thead"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#")]),s("th",{attrs:{scope:"col"}},[t._v("Order Type")]),s("th",{attrs:{scope:"col"}},[t._v("List Ordered")]),s("th",{attrs:{scope:"col"}},[t._v("Schedule Details")]),s("th",{attrs:{scope:"col"}},[t._v("Cost")]),s("th",{attrs:{scope:"col"}},[t._v("Status")])])]),s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}},[t._v("1")]),s("td",[s("a",{attrs:{href:"#"}},[t._v(" Delivery "),s("i",{staticClass:"fas fa-truck icon"})])]),s("td",[t._v("Weekly Shop")]),s("td",[t._v("Delivery on April 20 @ 4pm")]),s("td",[t._v("€4.20")]),s("td",[s("span",{staticClass:"order-status text-success"},[t._v("✔")]),t._v(" Delivered ")])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("1")]),s("td",[t._v(" Delivery "),s("i",{staticClass:"fas fa-shopping-basket icon"})]),s("td",[t._v("Essentials")]),s("td",[t._v("Collected on April 20 @ 4pm")]),s("td",[t._v("€42.20")]),s("td",[s("span",{staticClass:"order-status text-success"},[t._v("✔")]),t._v(" Collected ")])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("1")]),s("td",[t._v(" Delivery "),s("i",{staticClass:"fas fa-truck icon"})]),s("td",[t._v("Weekly Shop")]),s("td",[t._v("Delivery on April 20 @ 4pm")]),s("td",[t._v("€4.20")]),s("td",[s("span",{staticClass:"order-status text-warning"},[t._v("•")]),t._v(" In Progress ")])])])])}],Tt=(u.firestore(),{name:"allorders",components:{Sidebar:R},data:function(){return{currentUser:!1,shoppingLists:[],data:[],columns:[],actions:[]}},created:function(){u.auth().currentUser&&(this.currentUser=u.auth().currentUser)},methods:{}}),Ot=Tt,Mt=(s("968b"),Object(_["a"])(Ot,Nt,qt,!1,null,null,null)),$t=Mt.exports;a["a"].use(m["a"]);var Ft=new m["a"]({routes:[{path:"/",name:"homepage",component:M},{path:"/verify-details/",name:"verifyDetails",component:Q,meta:{requiresAuth:!0}},{path:"/grocery-dashboard/",name:"groceryDashboard",component:it,meta:{requiresAuth:!0}},{path:"/allOrders/",name:"allorders",component:$t,meta:{requiresAuth:!0}},{path:"/grocerylists/",name:"groceryLists",component:ut,meta:{requiresAuth:!0}},{path:"/addItem/",name:"add-item",component:It,meta:{requiresAuth:!0}},{path:"/modifyList/:id",name:"modify-list",props:!0,component:Ut,meta:{requiresAuth:!0}},{path:"/signin",name:"signin",component:N,meta:{requiresGuest:!0}},{path:"/signup",name:"signup",component:k,meta:{requiresGuest:!0}}],scrollBehavior:function(t){if(t.hash)return{selector:t.hash}}});Ft.beforeEach((function(t,e,s){t.matched.some((function(t){return t.meta.requiresAuth}))?u.auth().currentUser?s():s({path:"/",query:{redirect:t.fullPath}}):t.matched.some((function(t){return t.meta.requiresGuest}))&&u.auth().currentUser?s({path:"/",query:{redirect:t.fullPath}}):s()}));var jt,Gt=Ft,Wt={name:"navbar",data:function(){return{isLoggedIn:!1,currentUser:!1,messengerAuth:null}},created:function(){u.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=u.auth().currentUser.email);var t=window.location.href,e=new URL(t),s=e.searchParams.get("account_linking_token");null!=s&&(this.messengerAuth=!0)},methods:{logout:function(){sessionStorage.clear(),u.auth().signOut().then((function(){Gt.go({name:"homepage"})}))}}},zt=Wt,Bt=(s("5005"),Object(_["a"])(zt,o,n,!1,null,"e1c07b86",null)),Rt=Bt.exports,Ht={name:"app",components:{Navbar:Rt}},Vt=Ht,Yt=(s("034f"),Object(_["a"])(Vt,i,r,!1,null,null,null)),Zt=Yt.exports;a["a"].config.productionTip=!1,u.auth().onAuthStateChanged((function(t){jt||(jt=new a["a"]({router:Gt,render:function(t){return t(Zt)}}).$mount("#app"))}))},"6d64":function(t,e,s){"use strict";var a=s("0461"),i=s.n(a);i.a},"7bd7":function(t,e,s){},8135:function(t,e,s){t.exports=s.p+"img/onePlusPhone.9aaec5de.png"},"85ec":function(t,e,s){},"85f0":function(t,e,s){"use strict";var a=s("53da"),i=s.n(a);i.a},"89e1":function(t,e,s){"use strict";var a=s("f3f9"),i=s.n(a);i.a},"968b":function(t,e,s){"use strict";var a=s("0600"),i=s.n(a);i.a},a87c:function(t,e,s){"use strict";var a=s("e232"),i=s.n(a);i.a},c4d2:function(t,e,s){"use strict";var a=s("077f"),i=s.n(a);i.a},c783:function(t,e,s){},d220:function(t,e,s){},dcf7:function(t,e,s){},e232:function(t,e,s){},f3f9:function(t,e,s){}});
//# sourceMappingURL=app.55263d98.js.map