{"version":3,"file":"pure-object.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["const {create, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols} = Object;\n\n/**\n * @function copyPropertyDescriptors\n *\n * @description\n * copy the property descriptors from the source to the target\n *\n * @param {Object} target the target to add the property descriptors to\n * @param {Object} source the source to get the property descriptors from\n * @param {Array<string|symbol>} properties the properties to add\n * @returns {Object} the object with passed property descriptors\n */\nexport const copyPropertyDescriptors = (target, source, properties) =>\n  Object.defineProperties(\n    target,\n    properties.reduce((descriptors, key) => {\n      descriptors[key] = getOwnPropertyDescriptor(source, key);\n\n      return descriptors;\n    }, create(null))\n  );\n\n/**\n * @function getPropertySymbols\n *\n * @description\n * get the symbols on the prototype\n *\n * @param {Object} prototype the prototype to get the symbols from\n * @returns {Array<symbol>} the symbols to copy\n */\nexport const getPropertySymbols = (prototype) =>\n  typeof getOwnPropertySymbols === 'function' ? getOwnPropertySymbols(prototype) : [];\n\n/**\n * @function getProperties\n *\n * @description\n * get the properties to copy from the object\n *\n * @param {Object} object the object to get the properties from\n * @returns {Array<string|symbol>} the properties to copy\n */\nexport const getOwnProperties = (object) => getOwnPropertyNames(object).concat(getPropertySymbols(object));\n\n/**\n * @function getPrototype\n *\n * @description\n * get the prototype object based on the prototype passed\n *\n * @param {Object} prototype the prototype to copy\n * @returns {Object} the copied prototype object\n */\nexport const getPrototype = (prototype) =>\n  prototype ? copyPropertyDescriptors(create(null), prototype, getOwnProperties(prototype)) : prototype;\n","// utils\nimport {\n  copyPropertyDescriptors,\n  getOwnProperties,\n  getPrototype,\n} from './utils';\n\nconst {create} = Object;\n\n/**\n * @function pure\n *\n * @description\n * create an object with no additional prototypical methods beyond\n * what is passed in the second parameter\n *\n * @param {Object} [object={}] the object to create a pure version of\n * @param {Object} [prototype=null] the prototype to apply to the pure object\n * @return {Object} the pure object\n */\nconst pure = (object = {}, prototype = null) => {\n  const properties = getOwnProperties(object);\n\n  if (!properties.length) {\n    return create(null);\n  }\n\n  const target = create(getPrototype(prototype));\n\n  return copyPropertyDescriptors(target, object, properties);\n};\n\nexport default pure;\n"],"names":["create","Object","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","copyPropertyDescriptors","target","source","properties","defineProperties","reduce","descriptors","key","getPropertySymbols","prototype","getOwnProperties","object","concat","getPrototype","pure","length"],"mappings":";;;;;;MAAOA,SAAgFC,OAAhFD;MAAQE,2BAAwED,OAAxEC;MAA0BC,sBAA8CF,OAA9CE;MAAqBC,wBAAyBH,OAAzBG;;EAE9D;;;;;;;;;;;;AAWA,EAAO,IAAMC,0BAA0B,SAA1BA,uBAA0B,CAACC,MAAD,EAASC,MAAT,EAAiBC,UAAjB;EAAA,SACrCP,OAAOQ,gBAAP,CACEH,MADF,EAEEE,WAAWE,MAAX,CAAkB,UAACC,WAAD,EAAcC,GAAd,EAAsB;EACtCD,gBAAYC,GAAZ,IAAmBV,yBAAyBK,MAAzB,EAAiCK,GAAjC,CAAnB;;EAEA,WAAOD,WAAP;EACD,GAJD,EAIGX,OAAO,IAAP,CAJH,CAFF,CADqC;EAAA,CAAhC;;EAUP;;;;;;;;;AASA,EAAO,IAAMa,qBAAqB,SAArBA,kBAAqB,CAACC,SAAD;EAAA,SAChC,OAAOV,qBAAP,KAAiC,UAAjC,GAA8CA,sBAAsBU,SAAtB,CAA9C,GAAiF,EADjD;EAAA,CAA3B;;EAGP;;;;;;;;;AASA,EAAO,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAACC,MAAD;EAAA,SAAYb,oBAAoBa,MAApB,EAA4BC,MAA5B,CAAmCJ,mBAAmBG,MAAnB,CAAnC,CAAZ;EAAA,CAAzB;;EAEP;;;;;;;;;AASA,EAAO,IAAME,eAAe,SAAfA,YAAe,CAACJ,SAAD;EAAA,SAC1BA,YAAYT,wBAAwBL,OAAO,IAAP,CAAxB,EAAsCc,SAAtC,EAAiDC,iBAAiBD,SAAjB,CAAjD,CAAZ,GAA4FA,SADlE;EAAA,CAArB;;ECvDP;AACA;MAMOd,WAAUC,OAAVD;;EAEP;;;;;;;;;;;;EAWA,IAAMmB,OAAO,SAAPA,IAAO,GAAmC;EAAA,MAAlCH,MAAkC,uEAAzB,EAAyB;EAAA,MAArBF,SAAqB,uEAAT,IAAS;;EAC9C,MAAMN,aAAaO,iBAAiBC,MAAjB,CAAnB;;EAEA,MAAI,CAACR,WAAWY,MAAhB,EAAwB;EACtB,WAAOpB,SAAO,IAAP,CAAP;EACD;;EAED,MAAMM,SAASN,SAAOkB,aAAaJ,SAAb,CAAP,CAAf;;EAEA,SAAOT,wBAAwBC,MAAxB,EAAgCU,MAAhC,EAAwCR,UAAxC,CAAP;EACD,CAVD;;;;;;;;;;;;"}