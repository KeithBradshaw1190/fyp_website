{"remainingRequest":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\src\\components\\SignIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\src\\components\\SignIn.vue","mtime":1587240345905},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICIuLi9maXJlYmFzZUluaXQiOwppbXBvcnQgZmlyZWJhc2UsIHsgZnVuY3Rpb25zIH0gZnJvbSAiZmlyZWJhc2UiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CnZhciBkYiA9IGZpcmViYXNlQXBwLmZpcmVzdG9yZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNpZ25pbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBjdXJyZW50VXNlcjogZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB1cmxfc3RyaW5nID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICB2YXIgdXJsID0gbmV3IFVSTCh1cmxfc3RyaW5nKTsKICAgIHZhciBhY2NvdW50X3Rva2VuID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoImFjY291bnRfbGlua2luZ190b2tlbiIpOwoKICAgIGlmIChhY2NvdW50X3Rva2VuICE9IG51bGwpIHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVcmxWYXJzOiBmdW5jdGlvbiBnZXRVcmxWYXJzKCkgewogICAgICB2YXIgdmFycyA9IHt9OwogICAgICB2YXIgcGFydHMgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKC9bPyZdKyhbXj0mXSspPShbXiZdKikvZ2ksIGZ1bmN0aW9uIChtLCBrZXksIHZhbHVlKSB7CiAgICAgICAgdmFyc1trZXldID0gdmFsdWU7CiAgICAgIH0pOwogICAgICByZXR1cm4gdmFyczsKICAgIH0sCiAgICBnZXRVcmxQYXJhbTogZnVuY3Rpb24gZ2V0VXJsUGFyYW0ocGFyYW1ldGVyLCBkZWZhdWx0dmFsdWUpIHsKICAgICAgdmFyIHVybHBhcmFtZXRlciA9IGRlZmF1bHR2YWx1ZTsKCiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKHBhcmFtZXRlcikgPiAtMSkgewogICAgICAgIHVybHBhcmFtZXRlciA9IHRoaXMuZ2V0VXJsVmFycygpW3BhcmFtZXRlcl07CiAgICAgIH0KCiAgICAgIHJldHVybiB1cmxwYXJhbWV0ZXI7CiAgICB9LAogICAgc2lnbmluOiBmdW5jdGlvbiBzaWduaW4oZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy9BY2Nlc3MgdGhlIHZlcmlmaWNhdGlvbiBwYXJhbWV0ZXJzCiAgICAgIHZhciB1cmxfc3RyaW5nID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJMKHVybF9zdHJpbmcpOwogICAgICB2YXIgYWNjb3VudF90b2tlbiA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJhY2NvdW50X2xpbmtpbmdfdG9rZW4iKTsKICAgICAgdmFyIGFjY2Vzc190b2tlbiA9IHByb2Nlc3MuZW52LlZVRV9BUFBfRkJfUEFHRV9BQ0NFU1NfVE9LRU47CiAgICAgIHZhciByX3VyaSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJyZWRpcmVjdF91cmkiKTsKICAgICAgY29uc29sZS5sb2coYWNjb3VudF90b2tlbik7CiAgICAgIGNvbnNvbGUubG9nKHJfdXJpKTsKCiAgICAgIGlmIChhY2NvdW50X3Rva2VuICE9IG51bGwgJiYgcl91cmkpIHsKICAgICAgICB2YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpOwogICAgICAgIGZpcmViYXNlQXBwLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAocHJvdmlkZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47IC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLgoKICAgICAgICAgIHZhciB1c2VyID0gcmVzdWx0LnVzZXI7CiAgICAgICAgICBhbGVydCgiQWxlcnQgMSBMb2dpbiBzdWNjZXNzZnVsIGZvciAiLmNvbmNhdCh1c2VyLnByb3ZpZGVyRGF0YVswXS5kaXNwbGF5TmFtZSkpOwogICAgICAgICAgZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoewogICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5wcm92aWRlckRhdGFbMF0uZGlzcGxheU5hbWUKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy51cGRhdGVEb2ModXNlciwgYWNjb3VudF90b2tlbiwgYWNjZXNzX3Rva2VuLCByX3VyaSk7IC8vY29uc29sZS5sb2coZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyKTsKCiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIEhhbmRsZSBFcnJvcnMgaGVyZS4KCiAgICAgICAgICB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZTsKICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOyAvLyBUaGUgZW1haWwgb2YgdGhlIHVzZXIncyBhY2NvdW50IHVzZWQuCgogICAgICAgICAgdmFyIGVtYWlsID0gZXJyb3IuZW1haWw7IC8vIFRoZSBmaXJlYmFzZS5hdXRoLkF1dGhDcmVkZW50aWFsIHR5cGUgdGhhdCB3YXMgdXNlZC4KCiAgICAgICAgICB2YXIgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7IC8vIC4uLgogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkZhY2Vib29rQXV0aFByb3ZpZGVyKCk7CiAgICAgICAgZmlyZWJhc2VBcHAuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHQuY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjsgLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uCgogICAgICAgICAgdmFyIHVzZXIgPSByZXN1bHQudXNlcjsKICAgICAgICAgIGFsZXJ0KCJBbGVydCAyIExvZ2luIHN1Y2Nlc3NmdWwgZm9yICIuY29uY2F0KHVzZXIucHJvdmlkZXJEYXRhWzBdLmRpc3BsYXlOYW1lKSk7CiAgICAgICAgICBmaXJlYmFzZUFwcC5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7CiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLnByb3ZpZGVyRGF0YVswXS5kaXNwbGF5TmFtZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVc2VyID0gZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgICAgICAgICBjb25zb2xlLmxvZygiVGhlbiAiICsgX3RoaXMuY3VycmVudFVzZXIudWlkICsgIiAiICsgZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyKTsKICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoX3RoaXMuY3VycmVudFVzZXIudWlkKS5zZXQoewogICAgICAgICAgICAgIG5hbWU6IHVzZXIucHJvdmlkZXJEYXRhWzBdLmRpc3BsYXlOYW1lLAogICAgICAgICAgICAgIGZhY2Vib29rSUQ6IHVzZXIucHJvdmlkZXJEYXRhWzBdLnVpZAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgbWVyZ2U6IHRydWUKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMubG9hZERhdGEoKTsKCiAgICAgICAgICAgICAgcm91dGVyLmdvKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJncm9jZXJ5RGFzaGJvYXJkIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgX3RoaXMuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuCgogICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsgLy8gVGhlIGVtYWlsIG9mIHRoZSB1c2VyJ3MgYWNjb3VudCB1c2VkLgoKICAgICAgICAgIHZhciBlbWFpbCA9IGVycm9yLmVtYWlsOyAvLyBUaGUgZmlyZWJhc2UuYXV0aC5BdXRoQ3JlZGVudGlhbCB0eXBlIHRoYXQgd2FzIHVzZWQuCgogICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSBlcnJvci5jcmVkZW50aWFsOyAvLyAuLi4KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YSgpIHsKICAgICAgY29uc29sZS5sb2coIkNoZWNraW5nIHN0b3JhZ2UiICsgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgic3RvcmVJZCIpKTsKICAgICAgY29uc29sZS5sb2coInVpZDogIiArIHRoaXMuY3VycmVudFVzZXIudWlkKTsgLy8geW91IGNhbiBsb2FkIGRhdGEgZnJvbSBoZXJlIGFuZCBhc3NpZ24gcmVzcG9uc2UgaW4gdG8gdmFyaWFibGUKCiAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHRoaXMuY3VycmVudFVzZXIudWlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICBpZiAoZG9jLmV4aXN0cyAmJiBkb2MuZ2V0KCJzdG9yZUlkIikpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGRvYy5nZXQoInN0b3JlSWQiKSk7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJzdG9yZUlkIiwgZG9jLmdldCgic3RvcmVJZCIpKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBnZXR0aW5nIGRvY3VtZW50OiIsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkVG9TaG9wcGluZ0xpc3RzOiBmdW5jdGlvbiBhZGRUb1Nob3BwaW5nTGlzdHMocmVzcCwgcl91cmkpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmN1cnJlbnRVc2VyID0gZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRVc2VyLnVpZCk7CiAgICAgIGNvbnNvbGUubG9nKCJhZGR0b3Nob3BwaW5nIGxpc3RzIik7CiAgICAgIHZhciBuZXdEb2N1bWVudEJvZHkgPSB7CiAgICAgICAgbWVzc2VuZ2VySUQ6IHJlc3AuZGF0YS5yZWNpcGllbnQKICAgICAgfTsKICAgICAgZGIuY29sbGVjdGlvbigic2hvcHBpbmdfbGlzdHMiKS53aGVyZSgidWlkIiwgIj09IiwgdGhpcy5jdXJyZW50VXNlci51aWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGJhdGNoID0gZGIuYmF0Y2goKTsKICAgICAgICByZXNwb25zZS5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgdmFyIGRvY1JlZiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oInNob3BwaW5nX2xpc3RzIikuZG9jKGRvYy5pZCk7CiAgICAgICAgICBiYXRjaC51cGRhdGUoZG9jUmVmLCBuZXdEb2N1bWVudEJvZHkpOwogICAgICAgIH0pOwogICAgICAgIGJhdGNoLmNvbW1pdCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5sb2coInVwZGF0ZWQgYWxsIGRvY3VtZW50cyBpbnNpZGUiKTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcl91cmkgKyAiJmF1dGhvcml6YXRpb25fY29kZT0iICsgX3RoaXMyLmN1cnJlbnRVc2VyLnVpZDsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTsKICAgICAgICBjb25zb2xlLmxvZygiTm8gU2hvcHBpbmcgbGlzdHMgeWV0Iik7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByX3VyaSArICImYXV0aG9yaXphdGlvbl9jb2RlPSIgKyBfdGhpczIuY3VycmVudFVzZXIudWlkOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVEb2M6IGZ1bmN0aW9uIHVwZGF0ZURvYyh1c2VyLCBhY2NvdW50X3Rva2VuLCBhY2Nlc3NfdG9rZW4sIHJfdXJpKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5jdXJyZW50VXNlciA9IGZpcmViYXNlQXBwLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgY29uc29sZS5sb2coIlBBR0UgQUNDRVNTIFRPS0VOIiArIGFjY2Vzc190b2tlbik7CiAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjIuNi9tZT9hY2Nlc3NfdG9rZW49IiArIGFjY2Vzc190b2tlbiArICImZmllbGRzPXJlY2lwaWVudCZhY2NvdW50X2xpbmtpbmdfdG9rZW49IiArIGFjY291bnRfdG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEucmVjaXBpZW50KTsKICAgICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhfdGhpczMuY3VycmVudFVzZXIudWlkKS51cGRhdGUoewogICAgICAgICAgbmFtZTogdXNlci5wcm92aWRlckRhdGFbMF0uZGlzcGxheU5hbWUsCiAgICAgICAgICBmYWNlYm9va0lEOiB1c2VyLnByb3ZpZGVyRGF0YVswXS51aWQsCiAgICAgICAgICBtZXNzZW5nZXJJRDogcmVzcC5kYXRhLnJlY2lwaWVudAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5sb2coInRoZW4iKTsKCiAgICAgICAgICBfdGhpczMuYWRkVG9TaG9wcGluZ0xpc3RzKHJlc3AsIHJfdXJpKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7CiAgICAgICAgICBfdGhpczMuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSAvLyBzaWduaW46IGZ1bmN0aW9uKGUpIHsKICAgIC8vICAgZmIuYXV0aCgpCiAgICAvLyAgICAgLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKHRoaXMuZW1haWwsIHRoaXMucGFzc3dvcmQpCiAgICAvLyAgICAgLnRoZW4oCiAgICAvLyAgICAgICB1c2VyID0+IHsKICAgIC8vICAgICAgICAgYWxlcnQoYExvZ2luIHN1Y2Nlc3NmdWwgZm9yICR7dXNlci51c2VyLmVtYWlsfWApOwogICAgLy8gICAgICAgICByb3V0ZXIuZ28oeyBuYW1lOiAiZ3JvY2VyeURhc2hib2FyZCIgfSk7CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgLy8gICAgICAgfSwKICAgIC8vICAgICAgIGVyciA9PiB7CiAgICAvLyAgICAgICAgIGFsZXJ0KCJlcnJvciAiICsgZXJyLm1lc3NhZ2UpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICk7CiAgICAvLyAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIC8vIH0KCiAgfQp9Ow=="},{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"signIn\">\r\n    <button type=\"button\" @click=\"signin\" class=\"btn\" style=\"background-color:#3b5998;\">\r\n      <i class=\"fab fa-facebook-f pr-1\"></i>Sign in with Facebook\r\n    </button>\r\n\r\n    <!-- <form class=\"form-signin\">\r\n              <div class=\"form-label-group\">\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"inputEmail\"\r\n                  class=\"form-control\"\r\n                  v-model=\"email\"\r\n                  placeholder=\"Email address\"\r\n                  required\r\n                  autofocus\r\n                />\r\n              </div>\r\n              <br />\r\n              <div class=\"form-label-group\">\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  class=\"form-control\"\r\n                  v-model=\"password\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                />\r\n              </div>\r\n              <br />\r\n              <button\r\n                class=\"btn btn-lg btn-primary btn-outline-primary\"\r\n                @click=\"signin\"\r\n                type=\"submit\"\r\n              >Log In</button>\r\n    </form>-->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n</style>\r\n<script>\r\nimport firebaseApp from \"../firebaseInit\";\r\nimport firebase, { functions } from \"firebase\";\r\nimport router from \"../router\";\r\nimport axios from \"axios\";\r\nconst db = firebaseApp.firestore();\r\nexport default {\r\n  name: \"signin\",\r\n  data: function() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      currentUser: firebaseApp.auth().currentUser\r\n    };\r\n  },created(){\r\n    var url_string = window.location.href;\r\n      var url = new URL(url_string);\r\n      var account_token = url.searchParams.get(\"account_linking_token\");\r\n      if(account_token!=null){\r\n        \r\n      }\r\n  },\r\n  methods: {\r\n    getUrlVars: function() {\r\n      var vars = {};\r\n      var parts = window.location.href.replace(\r\n        /[?&]+([^=&]+)=([^&]*)/gi,\r\n        function(m, key, value) {\r\n          vars[key] = value;\r\n        }\r\n      );\r\n      return vars;\r\n    },\r\n    getUrlParam: function(parameter, defaultvalue) {\r\n      var urlparameter = defaultvalue;\r\n      if (window.location.href.indexOf(parameter) > -1) {\r\n        urlparameter = this.getUrlVars()[parameter];\r\n      }\r\n      return urlparameter;\r\n    },\r\n    signin: function(e) {\r\n      //Access the verification parameters\r\n\r\n      var url_string = window.location.href;\r\n      var url = new URL(url_string);\r\n      var account_token = url.searchParams.get(\"account_linking_token\");\r\n      var access_token = process.env.VUE_APP_FB_PAGE_ACCESS_TOKEN;\r\n\r\n      var r_uri = url.searchParams.get(\"redirect_uri\");\r\n\r\n      console.log(account_token);\r\n      console.log(r_uri);\r\n      if (account_token != null && r_uri) {\r\n        var provider = new firebase.auth.FacebookAuthProvider();\r\n        firebaseApp\r\n          .auth()\r\n          .signInWithPopup(provider)\r\n          .then(result => {\r\n            var token = result.credential.accessToken;\r\n            // The signed-in user info.\r\n            var user = result.user;\r\n            alert(`Alert 1 Login successful for ${user.providerData[0].displayName}`);\r\n            firebaseApp\r\n              .auth()\r\n              .currentUser.updateProfile({\r\n                displayName: user.providerData[0].displayName\r\n              })\r\n              .then(() => {\r\n                this.updateDoc(user, account_token, access_token, r_uri);\r\n                //console.log(firebaseApp.auth().currentUser);\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.errorMessage = err.message;\r\n              });\r\n          })\r\n\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            var email = error.email;\r\n            // The firebase.auth.AuthCredential type that was used.\r\n            var credential = error.credential;\r\n            // ...\r\n          });\r\n      } else {\r\n        var provider = new firebase.auth.FacebookAuthProvider();\r\n        firebaseApp\r\n          .auth()\r\n          .signInWithPopup(provider)\r\n          .then(result => {\r\n            var token = result.credential.accessToken;\r\n            // The signed-in user info.\r\n            var user = result.user;\r\n            alert(`Alert 2 Login successful for ${user.providerData[0].displayName}`);\r\n            firebaseApp\r\n              .auth()\r\n              .currentUser.updateProfile({\r\n                displayName: user.providerData[0].displayName\r\n              })\r\n              .then(() => {\r\n                this.currentUser = firebaseApp.auth().currentUser;\r\n                console.log(\"Then \"+this.currentUser.uid+\" \"+firebaseApp.auth().currentUser);\r\n\r\n                db.collection(\"users\")\r\n                  .doc(this.currentUser.uid)\r\n                  .set({\r\n                    name: user.providerData[0].displayName,\r\n                    facebookID: user.providerData[0].uid\r\n                  },{merge: true})\r\n                  .then(() => {\r\n                    this.loadData();\r\n                    router.go({ name: \"groceryDashboard\" });\r\n                  })\r\n                  .catch(err => {\r\n                    this.errorMessage = err.message;\r\n                  });\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.errorMessage = err.message;\r\n              });\r\n          })\r\n\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            var email = error.email;\r\n            // The firebase.auth.AuthCredential type that was used.\r\n            var credential = error.credential;\r\n            // ...\r\n          });\r\n      }\r\n    },\r\n    loadData: function() {\r\n      console.log(\"Checking storage\" + sessionStorage.getItem(\"storeId\"));\r\n      console.log(\"uid: \" + this.currentUser.uid);\r\n\r\n      // you can load data from here and assign response in to variable\r\n      db.collection(\"users\")\r\n        .doc(this.currentUser.uid)\r\n        .get()\r\n        .then(function(doc) {\r\n          if (doc.exists && doc.get(\"storeId\")) {\r\n            console.log(doc.get(\"storeId\"));\r\n            sessionStorage.setItem(\"storeId\", doc.get(\"storeId\"));\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.log(\"Error getting document:\", error);\r\n        });\r\n    },\r\n    addToShoppingLists(resp, r_uri) {\r\n      this.currentUser = firebaseApp.auth().currentUser;\r\n      console.log(this.currentUser.uid);\r\n      console.log(\"addtoshopping lists\");\r\n      const newDocumentBody = {\r\n        messengerID: resp.data.recipient\r\n      };\r\n      db.collection(\"shopping_lists\")\r\n        .where(\"uid\", \"==\", this.currentUser.uid)\r\n        .get()\r\n        .then(response => {\r\n          let batch = db.batch();\r\n          response.docs.forEach(doc => {\r\n            const docRef = firebase\r\n              .firestore()\r\n              .collection(\"shopping_lists\")\r\n              .doc(doc.id);\r\n            batch.update(docRef, newDocumentBody);\r\n          });\r\n          batch.commit().then(() => {\r\n            console.log(`updated all documents inside`);\r\n            window.location.href =\r\n              r_uri + \"&authorization_code=\" + this.currentUser.uid;\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err.message);\r\n\r\n          console.log(\"No Shopping lists yet\");\r\n          window.location.href =\r\n            r_uri + \"&authorization_code=\" + this.currentUser.uid;\r\n        });\r\n    },\r\n\r\n    updateDoc: function(user, account_token, access_token, r_uri) {\r\n      this.currentUser = firebaseApp.auth().currentUser;\r\n      console.log(\"PAGE ACCESS TOKEN\" + access_token);\r\n      axios\r\n        .get(\r\n          \"https://graph.facebook.com/v2.6/me?access_token=\" +\r\n            access_token +\r\n            \"&fields=recipient&account_linking_token=\" +\r\n            account_token\r\n        )\r\n        .then(resp => {\r\n          console.log(resp.data.recipient);\r\n          db.collection(\"users\")\r\n            .doc(this.currentUser.uid)\r\n            .update({\r\n              name: user.providerData[0].displayName,\r\n              facebookID: user.providerData[0].uid,\r\n              messengerID: resp.data.recipient\r\n            })\r\n            .then(() => {\r\n              console.log(\"then\");\r\n              this.addToShoppingLists(resp, r_uri);\r\n            })\r\n            .catch(err => {\r\n              console.log(err.message);\r\n              this.errorMessage = err.message;\r\n            });\r\n        });\r\n    }\r\n    // signin: function(e) {\r\n    //   fb.auth()\r\n    //     .signInWithEmailAndPassword(this.email, this.password)\r\n    //     .then(\r\n    //       user => {\r\n    //         alert(`Login successful for ${user.user.email}`);\r\n    //         router.go({ name: \"groceryDashboard\" });\r\n    //         console.log(user);\r\n    //       },\r\n    //       err => {\r\n    //         alert(\"error \" + err.message);\r\n    //       }\r\n    //     );\r\n    //   e.preventDefault();\r\n    // }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.btn {\r\n  display: inline-block;\r\n  background: var(--primary-color);\r\n  color: #fff;\r\n  padding: 0.8rem 1.5rem;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  border-radius: 30px;\r\n  margin-top: 0.2rem;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}