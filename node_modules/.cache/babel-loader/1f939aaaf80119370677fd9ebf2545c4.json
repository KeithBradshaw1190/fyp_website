{"remainingRequest":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\src\\components\\SignIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\src\\components\\SignIn.vue","mtime":1585566297876},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICIuLi9maXJlYmFzZUluaXQiOwppbXBvcnQgZmlyZWJhc2UsIHsgZnVuY3Rpb25zIH0gZnJvbSAiZmlyZWJhc2UiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CnZhciBkYiA9IGZpcmViYXNlQXBwLmZpcmVzdG9yZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNpZ25pbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBjdXJyZW50VXNlcjogZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXJsVmFyczogZnVuY3Rpb24gZ2V0VXJsVmFycygpIHsKICAgICAgdmFyIHZhcnMgPSB7fTsKICAgICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvWz8mXSsoW149Jl0rKT0oW14mXSopL2dpLCBmdW5jdGlvbiAobSwga2V5LCB2YWx1ZSkgewogICAgICAgIHZhcnNba2V5XSA9IHZhbHVlOwogICAgICB9KTsKICAgICAgcmV0dXJuIHZhcnM7CiAgICB9LAogICAgZ2V0VXJsUGFyYW06IGZ1bmN0aW9uIGdldFVybFBhcmFtKHBhcmFtZXRlciwgZGVmYXVsdHZhbHVlKSB7CiAgICAgIHZhciB1cmxwYXJhbWV0ZXIgPSBkZWZhdWx0dmFsdWU7CgogICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihwYXJhbWV0ZXIpID4gLTEpIHsKICAgICAgICB1cmxwYXJhbWV0ZXIgPSB0aGlzLmdldFVybFZhcnMoKVtwYXJhbWV0ZXJdOwogICAgICB9CgogICAgICByZXR1cm4gdXJscGFyYW1ldGVyOwogICAgfSwKICAgIHNpZ25pbjogZnVuY3Rpb24gc2lnbmluKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vQWNjZXNzIHRoZSB2ZXJpZmljYXRpb24gcGFyYW1ldGVycwogICAgICB2YXIgdXJsX3N0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICB2YXIgdXJsID0gbmV3IFVSTCh1cmxfc3RyaW5nKTsKICAgICAgdmFyIGFjY291bnRfdG9rZW4gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiYWNjb3VudF9saW5raW5nX3Rva2VuIik7CiAgICAgIHZhciBhY2Nlc3NfdG9rZW4gPSBwcm9jZXNzLmVudi5WVUVfQVBQX0ZCX1BBR0VfQUNDRVNTX1RPS0VOOwogICAgICB2YXIgcl91cmkgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgicmVkaXJlY3RfdXJpIik7CiAgICAgIGNvbnNvbGUubG9nKGFjY291bnRfdG9rZW4pOwogICAgICBjb25zb2xlLmxvZyhyX3VyaSk7CgogICAgICBpZiAoYWNjb3VudF90b2tlbiAhPSBudWxsICYmIHJfdXJpKSB7CiAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTsKICAgICAgICBmaXJlYmFzZUFwcC5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdC5jcmVkZW50aWFsLmFjY2Vzc1Rva2VuOyAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby4KCiAgICAgICAgICB2YXIgdXNlciA9IHJlc3VsdC51c2VyOwogICAgICAgICAgYWxlcnQoIkxvZ2luIHN1Y2Nlc3NmdWwgZm9yICIuY29uY2F0KHVzZXIucHJvdmlkZXJEYXRhWzBdLmRpc3BsYXlOYW1lKSk7CiAgICAgICAgICBmaXJlYmFzZUFwcC5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7CiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLnByb3ZpZGVyRGF0YVswXS5kaXNwbGF5TmFtZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnVwZGF0ZURvYyh1c2VyLCBhY2NvdW50X3Rva2VuLCBhY2Nlc3NfdG9rZW4sIHJfdXJpKTsgLy9jb25zb2xlLmxvZyhmaXJlYmFzZUFwcC5hdXRoKCkuY3VycmVudFVzZXIpOwoKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgX3RoaXMuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7CiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gSGFuZGxlIEVycm9ycyBoZXJlLgoKICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlOwogICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7IC8vIFRoZSBlbWFpbCBvZiB0aGUgdXNlcidzIGFjY291bnQgdXNlZC4KCiAgICAgICAgICB2YXIgZW1haWwgPSBlcnJvci5lbWFpbDsgLy8gVGhlIGZpcmViYXNlLmF1dGguQXV0aENyZWRlbnRpYWwgdHlwZSB0aGF0IHdhcyB1c2VkLgoKICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDsgLy8gLi4uCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTsKICAgICAgICBmaXJlYmFzZUFwcC5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdC5jcmVkZW50aWFsLmFjY2Vzc1Rva2VuOyAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby4KCiAgICAgICAgICB2YXIgdXNlciA9IHJlc3VsdC51c2VyOwogICAgICAgICAgYWxlcnQoIkxvZ2luIHN1Y2Nlc3NmdWwgZm9yICIuY29uY2F0KHVzZXIucHJvdmlkZXJEYXRhWzBdLmRpc3BsYXlOYW1lKSk7CiAgICAgICAgICBmaXJlYmFzZUFwcC5hdXRoKCkuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7CiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLnByb3ZpZGVyRGF0YVswXS5kaXNwbGF5TmFtZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVc2VyID0gZmlyZWJhc2VBcHAuYXV0aCgpLmN1cnJlbnRVc2VyOyAvL2NvbnNvbGUubG9nKGZpcmViYXNlQXBwLmF1dGgoKS5jdXJyZW50VXNlcik7CgogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhfdGhpcy5jdXJyZW50VXNlci51aWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgbmFtZTogdXNlci5wcm92aWRlckRhdGFbMF0uZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgZmFjZWJvb2tJRDogdXNlci5wcm92aWRlckRhdGFbMF0udWlkCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzLmxvYWREYXRhKCk7CgogICAgICAgICAgICAgIHJvdXRlci5nbyh7CiAgICAgICAgICAgICAgICBuYW1lOiAiZ3JvY2VyeURhc2hib2FyZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgX3RoaXMuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7CiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gSGFuZGxlIEVycm9ycyBoZXJlLgoKICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlOwogICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7IC8vIFRoZSBlbWFpbCBvZiB0aGUgdXNlcidzIGFjY291bnQgdXNlZC4KCiAgICAgICAgICB2YXIgZW1haWwgPSBlcnJvci5lbWFpbDsgLy8gVGhlIGZpcmViYXNlLmF1dGguQXV0aENyZWRlbnRpYWwgdHlwZSB0aGF0IHdhcyB1c2VkLgoKICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDsgLy8gLi4uCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJDaGVja2luZyBzdG9yYWdlIiArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInN0b3JlSWQiKSk7CiAgICAgIGNvbnNvbGUubG9nKCJ1aWQ6ICIgKyB0aGlzLmN1cnJlbnRVc2VyLnVpZCk7IC8vIHlvdSBjYW4gbG9hZCBkYXRhIGZyb20gaGVyZSBhbmQgYXNzaWduIHJlc3BvbnNlIGluIHRvIHZhcmlhYmxlCgogICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh0aGlzLmN1cnJlbnRVc2VyLnVpZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgaWYgKGRvYy5leGlzdHMgJiYgZG9jLmdldCgic3RvcmVJZCIpKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkb2MuZ2V0KCJzdG9yZUlkIikpOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgic3RvcmVJZCIsIGRvYy5nZXQoInN0b3JlSWQiKSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBkb2N1bWVudDoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFRvU2hvcHBpbmdMaXN0czogZnVuY3Rpb24gYWRkVG9TaG9wcGluZ0xpc3RzKHJlc3AsIHJfdXJpKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5jdXJyZW50VXNlciA9IGZpcmViYXNlQXBwLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50VXNlci51aWQpOwogICAgICBjb25zb2xlLmxvZygiYWRkdG9zaG9wcGluZyBsaXN0cyIpOwogICAgICB2YXIgbmV3RG9jdW1lbnRCb2R5ID0gewogICAgICAgIG1lc3NlbmdlcklEOiByZXNwLmRhdGEucmVjaXBpZW50CiAgICAgIH07CiAgICAgIGRiLmNvbGxlY3Rpb24oInNob3BwaW5nX2xpc3RzIikud2hlcmUoInVpZCIsICI9PSIsIHRoaXMuY3VycmVudFVzZXIudWlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgICAgICAgcmVzcG9uc2UuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBkb2NSZWYgPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJzaG9wcGluZ19saXN0cyIpLmRvYyhkb2MuaWQpOwogICAgICAgICAgYmF0Y2gudXBkYXRlKGRvY1JlZiwgbmV3RG9jdW1lbnRCb2R5KTsKICAgICAgICB9KTsKICAgICAgICBiYXRjaC5jb21taXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGVkIGFsbCBkb2N1bWVudHMgaW5zaWRlIik7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJfdXJpICsgIiZhdXRob3JpemF0aW9uX2NvZGU9IiArIF90aGlzMi5jdXJyZW50VXNlci51aWQ7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7CiAgICAgICAgY29uc29sZS5sb2coIk5vIFNob3BwaW5nIGxpc3RzIHlldCIpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcl91cmkgKyAiJmF1dGhvcml6YXRpb25fY29kZT0iICsgX3RoaXMyLmN1cnJlbnRVc2VyLnVpZDsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRG9jOiBmdW5jdGlvbiB1cGRhdGVEb2ModXNlciwgYWNjb3VudF90b2tlbiwgYWNjZXNzX3Rva2VuLCByX3VyaSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBmaXJlYmFzZUFwcC5hdXRoKCkuY3VycmVudFVzZXI7CiAgICAgIGNvbnNvbGUubG9nKCJQQUdFIEFDQ0VTUyBUT0tFTiIgKyBhY2Nlc3NfdG9rZW4pOwogICAgICBheGlvcy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjYvbWU/YWNjZXNzX3Rva2VuPSIgKyBhY2Nlc3NfdG9rZW4gKyAiJmZpZWxkcz1yZWNpcGllbnQmYWNjb3VudF9saW5raW5nX3Rva2VuPSIgKyBhY2NvdW50X3Rva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLnJlY2lwaWVudCk7CiAgICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoX3RoaXMzLmN1cnJlbnRVc2VyLnVpZCkudXBkYXRlKHsKICAgICAgICAgIG5hbWU6IHVzZXIucHJvdmlkZXJEYXRhWzBdLmRpc3BsYXlOYW1lLAogICAgICAgICAgZmFjZWJvb2tJRDogdXNlci5wcm92aWRlckRhdGFbMF0udWlkLAogICAgICAgICAgbWVzc2VuZ2VySUQ6IHJlc3AuZGF0YS5yZWNpcGllbnQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJ0aGVuIik7CgogICAgICAgICAgX3RoaXMzLmFkZFRvU2hvcHBpbmdMaXN0cyhyZXNwLCByX3VyaSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgX3RoaXMzLmVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gLy8gc2lnbmluOiBmdW5jdGlvbihlKSB7CiAgICAvLyAgIGZiLmF1dGgoKQogICAgLy8gICAgIC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKQogICAgLy8gICAgIC50aGVuKAogICAgLy8gICAgICAgdXNlciA9PiB7CiAgICAvLyAgICAgICAgIGFsZXJ0KGBMb2dpbiBzdWNjZXNzZnVsIGZvciAke3VzZXIudXNlci5lbWFpbH1gKTsKICAgIC8vICAgICAgICAgcm91dGVyLmdvKHsgbmFtZTogImdyb2NlcnlEYXNoYm9hcmQiIH0pOwogICAgLy8gICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgICBlcnIgPT4gewogICAgLy8gICAgICAgICBhbGVydCgiZXJyb3IgIiArIGVyci5tZXNzYWdlKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICApOwogICAgLy8gICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyB9CgogIH0KfTs="},{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"signIn\">\r\n    <button type=\"button\" @click=\"signin\" class=\"btn\" style=\"background-color:#3b5998;\">\r\n      <i class=\"fab fa-facebook-f pr-1\"></i>Sign in with Facebook\r\n    </button>\r\n\r\n    <!-- <form class=\"form-signin\">\r\n              <div class=\"form-label-group\">\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"inputEmail\"\r\n                  class=\"form-control\"\r\n                  v-model=\"email\"\r\n                  placeholder=\"Email address\"\r\n                  required\r\n                  autofocus\r\n                />\r\n              </div>\r\n              <br />\r\n              <div class=\"form-label-group\">\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  class=\"form-control\"\r\n                  v-model=\"password\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                />\r\n              </div>\r\n              <br />\r\n              <button\r\n                class=\"btn btn-lg btn-primary btn-outline-primary\"\r\n                @click=\"signin\"\r\n                type=\"submit\"\r\n              >Log In</button>\r\n    </form>-->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n</style>\r\n<script>\r\nimport firebaseApp from \"../firebaseInit\";\r\nimport firebase, { functions } from \"firebase\";\r\nimport router from \"../router\";\r\nimport axios from \"axios\";\r\nconst db = firebaseApp.firestore();\r\nexport default {\r\n  name: \"signin\",\r\n  data: function() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      currentUser: firebaseApp.auth().currentUser\r\n    };\r\n  },\r\n  methods: {\r\n    getUrlVars: function() {\r\n      var vars = {};\r\n      var parts = window.location.href.replace(\r\n        /[?&]+([^=&]+)=([^&]*)/gi,\r\n        function(m, key, value) {\r\n          vars[key] = value;\r\n        }\r\n      );\r\n      return vars;\r\n    },\r\n    getUrlParam: function(parameter, defaultvalue) {\r\n      var urlparameter = defaultvalue;\r\n      if (window.location.href.indexOf(parameter) > -1) {\r\n        urlparameter = this.getUrlVars()[parameter];\r\n      }\r\n      return urlparameter;\r\n    },\r\n    signin: function(e) {\r\n      //Access the verification parameters\r\n\r\n      var url_string = window.location.href;\r\n      var url = new URL(url_string);\r\n      var account_token = url.searchParams.get(\"account_linking_token\");\r\n      var access_token = process.env.VUE_APP_FB_PAGE_ACCESS_TOKEN;\r\n\r\n      var r_uri = url.searchParams.get(\"redirect_uri\");\r\n\r\n      console.log(account_token);\r\n      console.log(r_uri);\r\n      if (account_token != null && r_uri) {\r\n        var provider = new firebase.auth.FacebookAuthProvider();\r\n        firebaseApp\r\n          .auth()\r\n          .signInWithPopup(provider)\r\n          .then(result => {\r\n            var token = result.credential.accessToken;\r\n            // The signed-in user info.\r\n            var user = result.user;\r\n            alert(`Login successful for ${user.providerData[0].displayName}`);\r\n            firebaseApp\r\n              .auth()\r\n              .currentUser.updateProfile({\r\n                displayName: user.providerData[0].displayName\r\n              })\r\n              .then(() => {\r\n                this.updateDoc(user, account_token, access_token, r_uri);\r\n                //console.log(firebaseApp.auth().currentUser);\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.errorMessage = err.message;\r\n              });\r\n          })\r\n\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            var email = error.email;\r\n            // The firebase.auth.AuthCredential type that was used.\r\n            var credential = error.credential;\r\n            // ...\r\n          });\r\n      } else {\r\n        var provider = new firebase.auth.FacebookAuthProvider();\r\n        firebaseApp\r\n          .auth()\r\n          .signInWithPopup(provider)\r\n          .then(result => {\r\n            var token = result.credential.accessToken;\r\n            // The signed-in user info.\r\n            var user = result.user;\r\n            alert(`Login successful for ${user.providerData[0].displayName}`);\r\n            firebaseApp\r\n              .auth()\r\n              .currentUser.updateProfile({\r\n                displayName: user.providerData[0].displayName\r\n              })\r\n              .then(() => {\r\n                this.currentUser = firebaseApp.auth().currentUser;\r\n                //console.log(firebaseApp.auth().currentUser);\r\n                db.collection(\"users\")\r\n                  .doc(this.currentUser.uid)\r\n                  .update({\r\n                    name: user.providerData[0].displayName,\r\n                    facebookID: user.providerData[0].uid\r\n                  })\r\n                  .then(() => {\r\n                    this.loadData();\r\n                    router.go({ name: \"groceryDashboard\" });\r\n                  })\r\n                  .catch(err => {\r\n                    this.errorMessage = err.message;\r\n                  });\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.errorMessage = err.message;\r\n              });\r\n          })\r\n\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            var email = error.email;\r\n            // The firebase.auth.AuthCredential type that was used.\r\n            var credential = error.credential;\r\n            // ...\r\n          });\r\n      }\r\n    },\r\n    loadData: function() {\r\n      console.log(\"Checking storage\" + sessionStorage.getItem(\"storeId\"));\r\n      console.log(\"uid: \" + this.currentUser.uid);\r\n\r\n      // you can load data from here and assign response in to variable\r\n      db.collection(\"users\")\r\n        .doc(this.currentUser.uid)\r\n        .get()\r\n        .then(function(doc) {\r\n          if (doc.exists && doc.get(\"storeId\")) {\r\n            console.log(doc.get(\"storeId\"));\r\n            sessionStorage.setItem(\"storeId\", doc.get(\"storeId\"));\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.log(\"Error getting document:\", error);\r\n        });\r\n    },\r\n    addToShoppingLists(resp, r_uri) {\r\n      this.currentUser = firebaseApp.auth().currentUser;\r\n      console.log(this.currentUser.uid);\r\n      console.log(\"addtoshopping lists\");\r\n      const newDocumentBody = {\r\n        messengerID: resp.data.recipient\r\n      };\r\n      db.collection(\"shopping_lists\")\r\n        .where(\"uid\", \"==\", this.currentUser.uid)\r\n        .get()\r\n        .then(response => {\r\n          let batch = db.batch();\r\n          response.docs.forEach(doc => {\r\n            const docRef = firebase\r\n              .firestore()\r\n              .collection(\"shopping_lists\")\r\n              .doc(doc.id);\r\n            batch.update(docRef, newDocumentBody);\r\n          });\r\n          batch.commit().then(() => {\r\n            console.log(`updated all documents inside`);\r\n            window.location.href =\r\n              r_uri + \"&authorization_code=\" + this.currentUser.uid;\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err.message);\r\n\r\n          console.log(\"No Shopping lists yet\");\r\n          window.location.href =\r\n            r_uri + \"&authorization_code=\" + this.currentUser.uid;\r\n        });\r\n    },\r\n\r\n    updateDoc: function(user, account_token, access_token, r_uri) {\r\n      this.currentUser = firebaseApp.auth().currentUser;\r\n      console.log(\"PAGE ACCESS TOKEN\" + access_token);\r\n      axios\r\n        .get(\r\n          \"https://graph.facebook.com/v2.6/me?access_token=\" +\r\n            access_token +\r\n            \"&fields=recipient&account_linking_token=\" +\r\n            account_token\r\n        )\r\n        .then(resp => {\r\n          console.log(resp.data.recipient);\r\n          db.collection(\"users\")\r\n            .doc(this.currentUser.uid)\r\n            .update({\r\n              name: user.providerData[0].displayName,\r\n              facebookID: user.providerData[0].uid,\r\n              messengerID: resp.data.recipient\r\n            })\r\n            .then(() => {\r\n              console.log(\"then\");\r\n              this.addToShoppingLists(resp, r_uri);\r\n            })\r\n            .catch(err => {\r\n              console.log(err.message);\r\n              this.errorMessage = err.message;\r\n            });\r\n        });\r\n    }\r\n    // signin: function(e) {\r\n    //   fb.auth()\r\n    //     .signInWithEmailAndPassword(this.email, this.password)\r\n    //     .then(\r\n    //       user => {\r\n    //         alert(`Login successful for ${user.user.email}`);\r\n    //         router.go({ name: \"groceryDashboard\" });\r\n    //         console.log(user);\r\n    //       },\r\n    //       err => {\r\n    //         alert(\"error \" + err.message);\r\n    //       }\r\n    //     );\r\n    //   e.preventDefault();\r\n    // }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.btn {\r\n  display: inline-block;\r\n  background: var(--primary-color);\r\n  color: #fff;\r\n  padding: 0.8rem 1.5rem;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  border-radius: 30px;\r\n  margin-top: 0.2rem;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}