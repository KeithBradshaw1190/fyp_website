{"remainingRequest":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\src\\components\\GroceryDashboard.vue?vue&type=style&index=0&id=3ca6e692&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\src\\components\\GroceryDashboard.vue","mtime":1587992141113},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Work Account\\Documents\\4th Year\\Software Development\\smartgrocery\\smartgrocery\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi8qIDRweDogJHNwYWNlciAqIDAuMjUgOHB4OiAkc3BhY2VyICogMC41IDE2cHg6ICRzcGFjZXIgMjBweDogJHNwYWNlciAqIDEuMjUgMjRweDogJHNwYWNlciAqIDEuNSAqLw0KI2dyb2NlcnktZGFzaGJvYXJkIHsNCiAgaGVpZ2h0OiAxMDAlOw0KICBtaW4taGVpZ2h0OiAxMDAlOw0KICAvKmJhY2tncm91bmQtY29sb3I6ICNlZGYwZjU7ICovDQp9DQpib2R5IHsNCiAgbWFyZ2luLXRvcDogMjBweDsNCiAgLyogYmFja2dyb3VuZDogI2ZhZmFmYTsgKi8NCn0NCi5vcmRlci1jYXJkIHsNCiAgY29sb3I6ICNmZmY7DQp9DQoNCg0KLmNhcmQgew0KICBib3JkZXItcmFkaXVzOiA1cHg7DQogIC13ZWJraXQtYm94LXNoYWRvdzogMCAxcHggMi45NHB4IDAuMDZweCByZ2JhKDQsIDI2LCA1NSwgMC4xNik7DQogIGJveC1zaGFkb3c6IDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMTYpLCAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIzKTsNCiAgYm9yZGVyOiBub25lOw0KICBtYXJnaW4tYm90dG9tOiAzMHB4Ow0KICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2UtaW4tb3V0Ow0KICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLWluLW91dDsNCn0NCg0KLmNhcmQgLmNhcmQtYmxvY2sgew0KICBwYWRkaW5nOiAyNXB4Ow0KfQ0KDQoub3JkZXItY2FyZCBpIHsNCiAgZm9udC1zaXplOiAyNnB4Ow0KfQ0KDQouZi1sZWZ0IHsNCiAgZmxvYXQ6IGxlZnQ7DQp9DQoNCi5mLXJpZ2h0IHsNCiAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KLyogTG9hZGluZyBhbmltYXRpb24gcHJvdmlkZWQgYnkgaHR0cHM6Ly9sb2FkaW5nLmlvL2Nzcy8gIHJlbGVhc2VkIHVuZGVyIENDMCBMaWNlbnNlLCBzbyBjYW4gYmUgdXNlZCBmcmVlbHkgKi8NCi5sZHMtZmFjZWJvb2sgew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgd2lkdGg6IDgwcHg7DQogIGhlaWdodDogODBweDsNCn0NCi5sZHMtZmFjZWJvb2sgZGl2IHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGxlZnQ6IDhweDsNCiAgd2lkdGg6IDE2cHg7DQogIGJhY2tncm91bmQ6IHJnYmEoMTAwLCA5MCwgOTAsIDAuNTYyKTsNCiAgYW5pbWF0aW9uOiBsZHMtZmFjZWJvb2sgMS4ycyBjdWJpYy1iZXppZXIoMCwgMC41LCAwLjUsIDEpIGluZmluaXRlOw0KfQ0KLmxkcy1mYWNlYm9vayBkaXY6bnRoLWNoaWxkKDEpIHsNCiAgbGVmdDogOHB4Ow0KICBhbmltYXRpb24tZGVsYXk6IC0wLjI0czsNCn0NCi5sZHMtZmFjZWJvb2sgZGl2Om50aC1jaGlsZCgyKSB7DQogIGxlZnQ6IDMycHg7DQogIGFuaW1hdGlvbi1kZWxheTogLTAuMTJzOw0KfQ0KLmxkcy1mYWNlYm9vayBkaXY6bnRoLWNoaWxkKDMpIHsNCiAgbGVmdDogNTZweDsNCiAgYW5pbWF0aW9uLWRlbGF5OiAwOw0KfQ0KQGtleWZyYW1lcyBsZHMtZmFjZWJvb2sgew0KICAwJSB7DQogICAgdG9wOiA4cHg7DQogICAgaGVpZ2h0OiA2NHB4Ow0KICB9DQogIDUwJSwNCiAgMTAwJSB7DQogICAgdG9wOiAyNHB4Ow0KICAgIGhlaWdodDogMzJweDsNCiAgfQ0KfQ0K"},{"version":3,"sources":["GroceryDashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GroceryDashboard.vue","sourceRoot":"src/components","sourcesContent":["<template >\r\n  <div id=\"grocery-dashboard\" class=\"container-fluid bg-light\">\r\n    <div class=\"row\">\r\n      <Sidebar />\r\n      <div class=\"col-md-6 ml-sm-auto col-lg-9 pt-4 pl-4\">\r\n        <div class=\"container\">\r\n          <div\r\n            class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 mb-3\"\r\n          >\r\n            <h1 class=\"h2\">Welcome to the SmartGrocery Dashboard</h1>\r\n          </div>\r\n          <!--Dashboard content  -->\r\n          <!-- Displayed in these possible segments \r\n            -First Sign up(!deliveryExists &&!pickupExists)&&(!verified && !listCreated && !messengerLink)\r\n            -Process of linking has begun maintain the above but display success on cards that are valid\r\n            -if(!deliveryExists &&!pickupExists)&&(verified && listCreated && messengerLink)->Message Bot cards\r\n            else(deliveryExists &&pickupExists)\r\n          -->\r\n          <div class=\"container text-center mt-3 pt-3\" v-if=\"loadingScreen\">\r\n            <div class=\"lds-facebook mt-3 pt-3\">\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n            </div>\r\n            <h1 class=\"small\">Loading Details...This wont take long!</h1>\r\n          </div>\r\n          <div class=\"container\" v-if=\"!loadingScreen\">\r\n            <div class=\"row\" v-if=\"(!deliveryExists &&!pickupExists)\">\r\n              <!-- Grid column for initial sign up-->\r\n              <div class=\"col-md-6 mb-4\">\r\n                <!--Card-->\r\n                <div class=\"card\" v-if=\"(!listCreated||!messengerLink) && (verified)\">\r\n                  <h5 class=\"card-title text-center mt-3\">Shopping Account</h5>\r\n                  <!--Card image-->\r\n                  <div class=\"card-body\">\r\n                    <!-- Link Account Half -->\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i class=\"fas fa-store text-center\" style=\"font-size:3rem;\"></i>\r\n                        <p class=\"card-text\">Shopping Account has been linked successfully.</p>\r\n                      </div>\r\n                      <div class=\"row justify-content-center\">\r\n                        <div class=\"col-12 p-1\" style=\"text-align: center\">\r\n                          <i class=\"fas fa-check text-center text-success\" style=\"font-size:3rem;\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--/.Card-->\r\n\r\n                <!--Card initial sign up-->\r\n                <div class=\"card\" v-if=\"(!listCreated||!messengerLink) && (!verified)\">\r\n                  <h5 class=\"card-title text-center mt-3 h-100\">Firstly Link Shopping Account</h5>\r\n                  <!--Card image-->\r\n                  <div class=\"card-body row\">\r\n                    <!-- Link Account Half -->\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i class=\"fas fa-store text-center\" style=\"font-size:3rem;\"></i>\r\n                        <p class=\"card-text\">This allows you to order deliveries &amp; pickups.</p>\r\n                      </div>\r\n                      <!-- <div class=\"row justify-content-center\">\r\n                        <div class=\"col-12\" style=\"text-align: center\">\r\n                          <i class=\"fas fa-check text-center text-success\" style=\"font-size:3rem;\"></i>\r\n                        </div>\r\n                      </div>-->\r\n                      <router-link\r\n                        class=\"btn btn-dark btn-fill btn-wd p-2 m-2 text-white\"\r\n                        to=\"/verify-details\"\r\n                      >Link Account</router-link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--/.Card initial sign up-->\r\n              </div>\r\n              <!--  Grid column  -->\r\n\r\n              <!-- Grid column -->\r\n              <div class=\"col-md-6 mb-4\">\r\n                <!--Card-->\r\n                <div class=\"card\" v-if=\"(!verified||!messengerLink) && (!listCreated)\">\r\n                  <h5 class=\"card-title text-center mt-3\">Then Create a Grocery List</h5>\r\n                  <!--Card image-->\r\n                  <div class=\"card-body row\">\r\n                    <!-- Link Account Half -->\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i class=\"fas fa-shopping-cart text-center\" style=\"font-size:3rem;\"></i>\r\n                        <p\r\n                          class=\"card-text\"\r\n                        >Grocery lists are used to find recipes &amp; make orders</p>\r\n                      </div>\r\n                      <router-link\r\n                        class=\"btn btn-dark btn-fill btn-wd p-2 m-2 text-white\"\r\n                        to=\"/addItem\"\r\n                      >Create First List</router-link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--/.Card-->\r\n                <!--Card-->\r\n                <div class=\"card\" v-if=\"(!verified || !messengerLink) && (listCreated)\">\r\n                  <h5 class=\"card-title text-center mt-3\">Grocery List</h5>\r\n                  <!--Card image-->\r\n                  <div class=\"card-body\">\r\n                    <!-- Link Account Half -->\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i class=\"fas fa-shopping-cart text-center\" style=\"font-size:3rem;\"></i>\r\n                        <p class=\"card-text\">You have successfully created a grocery list.</p>\r\n                      </div>\r\n                      <div class=\"row justify-content-center\">\r\n                        <div class=\"col-12 p-1\" style=\"text-align: center\">\r\n                          <i class=\"fas fa-check text-center text-success\" style=\"font-size:3rem;\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--/.Card-->\r\n              </div>\r\n              <!-- Grid column -->\r\n              <div class=\"col-md-12 mb-4\">\r\n                <!--Card initial sign up-->\r\n                <div class=\"card\" v-if=\"(!verified || !listCreated || !messengerLink)\">\r\n                  <h5 class=\"card-title text-center mt-3\">Message the Bot</h5>\r\n                  <!--Card image-->\r\n                  <div class=\"card-body\">\r\n                    <!-- Link Account Half -->\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i\r\n                          class=\"fab fa-facebook-messenger text-center text-primary\"\r\n                          style=\"font-size:3rem;\"\r\n                        ></i>\r\n                        <p class=\"card-text\">\r\n                          Click the send message button on the facebook page followed by 'Get started' in the chat window.\r\n                          You'll be prompted to sign into your SmartGrocery account. After that you are all set up!\r\n                        </p>\r\n                      </div>\r\n\r\n                      <a\r\n                        class=\"btn btn-dark btn-fill btn-wd p-2 m-2 text-white\"\r\n                        href=\"https://www.facebook.com/SmartGrocery-103970551177074\"\r\n                      >Send Message</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--/.Card-->\r\n              </div>\r\n              <!-- Grid column -->\r\n            </div>\r\n\r\n            <!-- When Verified -->\r\n            <div v-if=\"(verified && listCreated && messengerLink)\" class=\"row\">\r\n              <div v-if=\"deliveryExists\" class=\"col-md-6 col-xl-6 pt-4\">\r\n                <div class=\"card\">\r\n                  <div class=\"card-block\">\r\n                    <h4 class=\"m-b-20 text-center\">\r\n                      <i class=\"fas fa-truck\" style=\"font-size:18px;\"></i> Latest Delivery Details\r\n                      <br />\r\n                    </h4>\r\n                    <br />\r\n\r\n                    <div class=\"row\">\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"fas fa-clipboard-list\" style=\"font-size:18px;\"></i>\r\n                        {{ deliveryList }}\r\n                      </h5>\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"fas fa-calendar-day\" style=\"font-size:18px;\"></i>\r\n                        Date {{ deliveryDate }}\r\n                      </h5>\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"far fa-clock\" style=\"font-size:18px;\"></i>\r\n                        Expect at {{ deliveryTime.slice(0, -3) }}\r\n                      </h5>\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"fas fa-euro-sign mt-1\" style=\"font-size:18px;\"></i>\r\n                        Cost {{ deliveryCost }}\r\n                      </h5>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- DElivery Doesnt Exist -->\r\n\r\n              <div v-if=\"!deliveryExists\" class=\"col-md-6 col-xl-6 pt-4\">\r\n                <div class=\"card\">\r\n                  <div class=\"card-block\">\r\n                    <h5 class=\"text-center\">Schedule a Delivery!</h5>\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i\r\n                          class=\"fab fa-facebook-messenger text-center text-primary\"\r\n                          style=\"font-size:3rem;\"\r\n                        ></i>\r\n                      </div>\r\n                      <small class=\"text-center\">No Deliveries have been made yet!</small>\r\n                    </div>\r\n                    <div class=\"text-center\">\r\n                      <!--<button type=\"submit\" class=\"btn btn-info btn-fill btn-wd p-2\">Update Details</button>-->\r\n                      <a\r\n                        href=\"https://www.facebook.com/SmartGrocery-103970551177074\"\r\n                        class=\"btn btn-dark btn-fill btn-wd p-2 m-2\"\r\n                      >Schedule a Delivery</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- End of deilvery doesnt exist -->\r\n              <div v-if=\"pickupExists\" class=\"col-md-6 col-xl-6 pt-4\">\r\n                <div class=\"card\">\r\n                  <div class=\"card-block\">\r\n                    <h4 class=\"m-b-20 text-center\">\r\n                      <i class=\"fas fa-shopping-basket\" style=\"font-size:22px;\"></i> Latest Pickup Details\r\n                      <br />\r\n                      <!-- <small>List Name: {{ pickupList }}</small> -->\r\n                    </h4>\r\n                    <br />\r\n\r\n                    <div class=\"row\">\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"fas fa-clipboard-list\" style=\"font-size:18px;\"></i>\r\n                        {{ pickupList }}\r\n                      </h5>\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"fas fa-calendar-day\" style=\"font-size:18px;\"></i>\r\n                        Date {{ pickupDate }}\r\n                      </h5>\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"far fa-clock\" style=\"font-size:18px;\"></i>\r\n                        Ready at {{ pickupTime.slice(0, -3) }}\r\n                      </h5>\r\n                      <h5 class=\"col-6 mt-2\">\r\n                        <i class=\"fas fa-euro-sign mt-1\" style=\"font-size:18px;\"></i>\r\n                        Cost {{ pickupCost }}\r\n                      </h5>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Pickup Doesnt Exist -->\r\n\r\n              <div v-if=\"!pickupExists\" class=\"col-md-6 col-xl-6 pt-4\">\r\n                <div class=\"card\">\r\n                  <div class=\"card-block\">\r\n                    <h5 class=\"text-center\">Schedule a Pickup!</h5>\r\n                    <div class=\"row justify-content-center\">\r\n                      <div class=\"col-12\" style=\"text-align: center\">\r\n                        <i\r\n                          class=\"fab fa-facebook-messenger text-center text-primary\"\r\n                          style=\"font-size:3rem;\"\r\n                        ></i>\r\n                      </div>\r\n                      <small class=\"text-center\">No Pickups have have been made yet!</small>\r\n                    </div>\r\n                    <div class=\"text-center\">\r\n                      <!--<button type=\"submit\" class=\"btn btn-info btn-fill btn-wd p-2\">Update Details</button>-->\r\n                      <a\r\n                        href=\"https://www.facebook.com/SmartGrocery-103970551177074\"\r\n                        class=\"btn btn-dark btn-fill btn-wd p-2 m-2\"\r\n                      >Schedule a Pickup</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- End of deilvery doesnt exist -->\r\n            </div>\r\n            <!-- End of When Verified -->\r\n          </div>\r\n          <!-- End of Dashboard content -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp from \"../firebaseInit\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport axios from \"axios\";\r\nconst db = firebaseApp.firestore();\r\nexport default {\r\n  name: \"grocery-dashboard\",\r\n  components: {\r\n    Sidebar\r\n  },\r\n  data() {\r\n    return {\r\n      currentUser: firebaseApp.auth().currentUser,\r\n      deliveryDate: \"\",\r\n      deliveryList: \"\",\r\n      deliveryTime: \"\",\r\n      deliveryCost: \"\",\r\n      pickupDate: \"\",\r\n      pickupList: \"\",\r\n      pickupTime: \"\",\r\n      pickupCost: \"\",\r\n      verified: null,\r\n      listCreated: null,\r\n      messengerLink: null,\r\n      storeId: null,\r\n      deliveryExists: false,\r\n      pickupExists: false,\r\n      loadingScreen: null\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchInfo();\r\n    this.loadData();\r\n    this.checkList();\r\n  },\r\n  methods: {\r\n    fetchInfo: function() {\r\n      this.deliveryInfo();\r\n      this.pickupInfo();\r\n      //Pickups\r\n    },\r\n    deliveryInfo: function() {\r\n      //Deliveries\r\n      var storeId = sessionStorage.getItem(\"storeId\");\r\n      if (storeId != null) {\r\n        console.log(\"NOT NULL\");\r\n        this.storeId = storeId;\r\n      }\r\n      axios\r\n        .get(\r\n          \"https://supermarketmock-api.herokuapp.com/api/delivery/customer/\" +\r\n            sessionStorage.getItem(\"storeId\")\r\n        )\r\n        .then(\r\n          response => {\r\n            console.log(\"Then response\" + response.status);\r\n            console.log(response.data[0]);\r\n            console.log(\"Setting loading to false storeID->\" + this.storeId);\r\n            this.loadingScreen = false;\r\n            if (response.status == 200 && response.data[0] == undefined) {\r\n              this.deliveryExists = false;\r\n\r\n              //this.deliveryDate = \"00/00/00\";\r\n              //console.log(\"IF DELIVERY DATE\" + this.deliveryDate);\r\n            } else {\r\n              this.deliveryExists = true;\r\n              this.deliveryList = response.data[0].list_name;\r\n              //reformat date\r\n              var datePart = response.data[0].delivery_date.match(/\\d+/g),\r\n                year = datePart[0].substring(2),\r\n                month = datePart[1],\r\n                day = datePart[2];\r\n              this.deliveryDate = day + \"/\" + month + \"/\" + year;\r\n              this.deliveryTime = response.data[0].delivery_time;\r\n              this.deliveryCost = response.data[0].order_price;\r\n            }\r\n          },\r\n          error => {\r\n            console.log(\"ERr\" + error);\r\n          }\r\n        );\r\n    },\r\n    pickupInfo: function() {\r\n      //Deliveries\r\n      axios\r\n        .get(\r\n          \"https://supermarketmock-api.herokuapp.com/api/pickup/customer/\" +\r\n            sessionStorage.getItem(\"storeId\")\r\n        )\r\n        .then(\r\n          response => {\r\n            // console.log(response);\r\n            //console.log(response.data[0]);\r\n            console.log(\"Setting loading to false storeID->\" + this.storeId);\r\n            this.loadingScreen = false;\r\n            if (response.status == 200 && response.data[0] == undefined) {\r\n              this.pickupExists = false;\r\n\r\n              //.pickupDate = \"00/00/00\";\r\n            } else {\r\n              this.pickupExists = true;\r\n              this.pickupList = response.data[0].list_name;\r\n              //reformat date\r\n              var datePart = response.data[0].pickup_date.match(/\\d+/g),\r\n                year = datePart[0].substring(2), // get only two digits\r\n                month = datePart[1],\r\n                day = datePart[2];\r\n              this.pickupDate = day + \"/\" + month + \"/\" + year;\r\n              this.pickupTime = response.data[0].pickup_time;\r\n              this.pickupCost = response.data[0].order_price;\r\n            }\r\n          },\r\n          error => {\r\n            console.log(error);\r\n          }\r\n        );\r\n    },\r\n    loadData: function() {\r\n      if (this.messengerLink == null || this.verified == null) {\r\n        console.log(\"Setting loading to true storeID->\" + this.storeId);\r\n        this.loadingScreen = true;\r\n        console.log(\"load data\");\r\n        db.collection(\"users\")\r\n          .doc(this.currentUser.uid)\r\n          .get()\r\n          .then(function(doc) {\r\n            if (doc.exists) {\r\n              if (doc.get(\"storeId\")) {\r\n                console.log(\"StoreID Exists\");\r\n                sessionStorage.setItem(\"storeId\", doc.get(\"storeId\"));\r\n              }\r\n              if (doc.get(\"messengerID\")) {\r\n                console.log(\"messengerID Exists\");\r\n                sessionStorage.setItem(\"messengerLink\", true);\r\n              }\r\n            }\r\n          })\r\n          .catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n          })\r\n          .finally(() => {\r\n            if (sessionStorage.getItem(\"messengerLink\") == \"true\") {\r\n              this.messengerLink = true;\r\n            }\r\n            if (sessionStorage.getItem(\"storeId\") != null) {\r\n              this.verified = true;\r\n              axios\r\n                .get(\r\n                  \"https://supermarketmock-api.herokuapp.com/api/customer/\" +\r\n                    sessionStorage.getItem(\"storeId\")\r\n                )\r\n                .then(\r\n                  response => {\r\n                    // console.log(response);\r\n                    // console.log(response.data.address);\r\n                    console.log(\r\n                      \"Setting loading to false storeID->\" + this.storeId\r\n                    );\r\n                    this.loadingScreen = false;\r\n                    if (response.status == 200) {\r\n                      this.address = response.data.address;\r\n                    }\r\n                  },\r\n                  error => {\r\n                    console.log(error);\r\n                  }\r\n                );\r\n            } else {\r\n              this.verified = false;\r\n            }\r\n          });\r\n      }\r\n    },\r\n    checkList: function() {\r\n      console.log(\"Check session\" + sessionStorage.getItem(\"listCreated\"));\r\n      if (sessionStorage.getItem(\"listCreated\") == null) {\r\n        console.log(\"Check session\" + sessionStorage.getItem(\"listCreated\"));\r\n\r\n        db.collection(\"shopping_lists\")\r\n          .where(\"uid\", \"==\", this.currentUser.uid)\r\n          .get()\r\n          .then(snapshot => {\r\n            if (!snapshot.empty) {\r\n              sessionStorage.setItem(\"listCreated\", true);\r\n              this.listCreated = sessionStorage.getItem(\"listCreated\");\r\n              return;\r\n            }\r\n          })\r\n          .catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n          });\r\n      } else {\r\n        this.listCreated = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n/* 4px: $spacer * 0.25 8px: $spacer * 0.5 16px: $spacer 20px: $spacer * 1.25 24px: $spacer * 1.5 */\r\n#grocery-dashboard {\r\n  height: 100%;\r\n  min-height: 100%;\r\n  /*background-color: #edf0f5; */\r\n}\r\nbody {\r\n  margin-top: 20px;\r\n  /* background: #fafafa; */\r\n}\r\n.order-card {\r\n  color: #fff;\r\n}\r\n\r\n\r\n.card {\r\n  border-radius: 5px;\r\n  -webkit-box-shadow: 0 1px 2.94px 0.06px rgba(4, 26, 55, 0.16);\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\r\n  border: none;\r\n  margin-bottom: 30px;\r\n  -webkit-transition: all 0.3s ease-in-out;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n.card .card-block {\r\n  padding: 25px;\r\n}\r\n\r\n.order-card i {\r\n  font-size: 26px;\r\n}\r\n\r\n.f-left {\r\n  float: left;\r\n}\r\n\r\n.f-right {\r\n  float: right;\r\n}\r\n/* Loading animation provided by https://loading.io/css/  released under CC0 License, so can be used freely */\r\n.lds-facebook {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n.lds-facebook div {\r\n  display: inline-block;\r\n  position: absolute;\r\n  left: 8px;\r\n  width: 16px;\r\n  background: rgba(100, 90, 90, 0.562);\r\n  animation: lds-facebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\r\n}\r\n.lds-facebook div:nth-child(1) {\r\n  left: 8px;\r\n  animation-delay: -0.24s;\r\n}\r\n.lds-facebook div:nth-child(2) {\r\n  left: 32px;\r\n  animation-delay: -0.12s;\r\n}\r\n.lds-facebook div:nth-child(3) {\r\n  left: 56px;\r\n  animation-delay: 0;\r\n}\r\n@keyframes lds-facebook {\r\n  0% {\r\n    top: 8px;\r\n    height: 64px;\r\n  }\r\n  50%,\r\n  100% {\r\n    top: 24px;\r\n    height: 32px;\r\n  }\r\n}\r\n</style>"]}]}